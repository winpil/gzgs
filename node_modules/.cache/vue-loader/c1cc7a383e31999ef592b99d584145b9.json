{"remainingRequest":"D:\\job\\gs\\gsmon\\gsmon_web\\hzgs-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\job\\gs\\gsmon\\gsmon_web\\hzgs-admin\\src\\views\\dashboard\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\job\\gs\\gsmon\\gsmon_web\\hzgs-admin\\src\\views\\dashboard\\index.vue","mtime":1620299676561},{"path":"D:\\job\\gs\\gsmon\\gsmon_web\\hzgs-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\job\\gs\\gsmon\\gsmon_web\\hzgs-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\job\\gs\\gsmon\\gsmon_web\\hzgs-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\job\\gs\\gsmon\\gsmon_web\\hzgs-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHF1ZXJ5QXJlYSB9IGZyb20gJ0AvYXBpL2FyZWEvYXJlYS5qcycKaW1wb3J0IHsgcXVlcnlBbGFybSB9IGZyb20gJ0AvYXBpL2FsYXJtL2FsYXJtLmpzJwppbXBvcnQgeyBxdWVyeUxpbmVEZXRhaWwgfSBmcm9tICdAL2FwaS9saW5lL2xpbmUuanMnCmltcG9ydCBlY2hhcnRzIGZyb20gJ2VjaGFydHMnCmltcG9ydCB7IHF1ZXJ5QXJlYUdwcywgcXVlcnlEZXZpY2VHcHMsIGdldEFyZWFJbmZvLCBnZXRNYXBDZW50ZXIsIGdldERldmljZUluZm8sIHF1ZXJ5Wm9uZUluZm8sIGdldEFsYXJtRmllbGRzIH0gZnJvbSAnQC9hcGkvZGFzaGJvYXJkL2Rhc2hib2FyZC5qcycKY29uc3QgTk9STUFMX0NPTE9SID0gJyMyM2NlZmQnCmNvbnN0IFNQRUNJQUxfQ09MT1IgPSAiYmxhY2siCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRGFzaGJvYXJkJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZnVsbHNjcmVlbjogZmFsc2UsCiAgICAgIHZhbHVlMTogJycsCiAgICAgIHRpbWU6ICcnLAogICAgICBzaG93QXJlYTogdHJ1ZSwKICAgICAgY2VudGVyOiB7bG5nOiAxMjAuMjAzMzY1LCBsYXQ6IDMwLjIxMTc4NH0sCiAgICAgIHpvb206IDgsCiAgICAgIHBvbHlsaW5lUGF0aDogW10sCiAgICAgIGxpbmVzOiBbXSwKICAgICAgYWxhcm1saW5lczogW10sCiAgICAgIGxpbmVDb2xvcjogW10sCiAgICAgIHNob3dXaW5kb3c6IGZhbHNlLAogICAgICBtYXBGb3JtOiB7CiAgICAgICAgYXJlYTogJ+ivt+mAieaLqeWMuuWfnycsCiAgICAgICAgdGltZTogJ+S4gOWRqOWGhScKICAgICAgfSwKICAgICAgY3VycmVudERldjoge30sCiAgICAgIGN1cnJlbnRab25lOiB7fSwKICAgICAgaW5mb1R5cGU6ICcnLAogICAgICBhcmVhTGlzdDogW10sCiAgICAgIG1hcFN0eWxlOiB7CiAgICAgICAgZmVhdHVyZXM6IFsicm9hZCIsICJidWlsZGluZyIsICJ3YXRlciIsICJsYW5kIl0sIC8v6ZqQ6JeP5Zyw5Zu+5LiK55qEInBvaSIsCiAgICAgICAgc3R5bGU6ICJtaWRuaWdodCIKICAgICAgICAvLyB2YXIgc3R5bGVfbWFwPVsnbm9ybWFsJywnbGlnaHQnLCdkYXJrJywncmVkYWxlcnQnLCdnb29nbGVsaXRlJywnZ3Jhc3NncmVlbicsJ21pZG5pZ2h0JywncGluaycsJ2RhcmtncmVlbicsJ2JsdWlzaCcsJ2dyYXlzY2FsZScsJ2hhcmRlZGdlJ107CiAgICAgICAgLy/liIbliKvpo47moLzmmK/vvJrpu5jorqTlnLDlm77moLflvI/vvIzmuIXmlrDok53po47moLzvvIzpu5HlpJzpo47moLzvvIznuqLoibLorabmiJLpo47moLzvvIznsr7nroDpo47moLzvvIzoh6rnhLbnu7/po47moLzvvIzljYjlpJzok53po47moLzvvIzmtarmvKvnsonpo47moLzvvIzpnZLmmKXnu7/po47moLzvvIzmuIXmlrDok53nu7/po47moLzvvIzpq5jnq6/ngbDpo47moLzvvIzlvLrovrnnlYzpo47moLwKICAgICAgfSwKICAgICAgY2hhcnQxOiAnJywKICAgICAgY2hhcnQyOiAnJywKICAgICAgY2hhcnQzOiAnJywKICAgICAgY2hhcnQxRGF0YTogW10sCiAgICAgIHRhYmxlRGF0YTogW3sKICAgICAgICAgICAgZGF0ZTogJzIwMTYtMDUtMDInLAogICAgICAgICAgICBuYW1lOiAn546L5bCP6JmOJywKICAgICAgICAgICAgYWRkcmVzczogJzIwMjAvNy8yNCcKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGF0ZTogJzIwMTYtMDUtMDQnLAogICAgICAgICAgICBuYW1lOiAn546L5bCP6JmOJywKICAgICAgICAgICAgYWRkcmVzczogJzIwMjAvNy8yNCcKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGF0ZTogJzIwMTYtMDUtMDEnLAogICAgICAgICAgICBuYW1lOiAn546L5bCP6JmOJywKICAgICAgICAgICAgYWRkcmVzczogJzIwMjAvNy8yNCcKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGF0ZTogJzIwMTYtMDUtMDMnLAogICAgICAgICAgICBuYW1lOiAn546L5bCP6JmOJywKICAgICAgICAgICAgYWRkcmVzczogJzIwMjAvNy8yNCcKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGF0ZTogJzIwMTYtMDUtMDQnLAogICAgICAgICAgICBuYW1lOiAn546L5bCP6JmOJywKICAgICAgICAgICAgYWRkcmVzczogJzIwMjAvNy8yNCcKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGF0ZTogJzIwMTYtMDUtMDEnLAogICAgICAgICAgICBuYW1lOiAn546L5bCP6JmOJywKICAgICAgICAgICAgYWRkcmVzczogJzIwMjAvNy8yNCcKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGF0ZTogJzIwMTYtMDUtMDMnLAogICAgICAgICAgICBuYW1lOiAn546L5bCP6JmOJywKICAgICAgICAgICAgYWRkcmVzczogJzIwMjAvNy8yNCcKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGF0ZTogJzIwMTYtMDUtMDQnLAogICAgICAgICAgICBuYW1lOiAn546L5bCP6JmOJywKICAgICAgICAgICAgYWRkcmVzczogJzIwMjAvNy8yNCcKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGF0ZTogJzIwMTYtMDUtMDEnLAogICAgICAgICAgICBuYW1lOiAn546L5bCP6JmOJywKICAgICAgICAgICAgYWRkcmVzczogJzIwMjAvNy8yNCcKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGF0ZTogJzIwMTYtMDUtMDMnLAogICAgICAgICAgICBuYW1lOiAn546L5bCP6JmOJywKICAgICAgICAgICAgYWRkcmVzczogJzIwMjAvNy8yNCcKICAgICAgICAgIH1dCiAgICAKICAgIAogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0SW5mbygpCiAgICB0aGlzLmdldERldmljZUdwcygpCiAgICB0aGlzLmdldENlbnRlcigpIC8vIOiOt+WPluWcsOWbvuWdkOagh+S4ree6v+eCuQogICAgdGhpcy5nZXRBcmVhSW5mbygpIC8vIOWMuuWfn+e7n+iuoeS/oeaBrwogICAgdGhpcy5nZXRBcmVhTGlzdCgpIC8vIOiOt+WPluWcsOWMuuWIl+ihqAogICAgdGhpcy5nZXRUYWJsZURhdGEoKSAvLyDojrflj5bkuovku7bliJfooajmlbDmja4KICAgIHRoaXMucXVlcnlMaW5lRGV0YWlsKCkgLy8g6I635Y+W5omA5pyJ6LSj5Lu75Yy655qE5ZGK6K2m5LqL5Lu2CiAgICB0aGlzLnRpbWUgPSAobmV3IERhdGUoKSkudG9Mb2NhbGVTdHJpbmcoKQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHNldEludGVydmFsKCgpID0+IHsKICAgICAgdGhpcy5nZXRBbGFybUZpZWxkcygpCiAgICB9LCA1MDAwKQogICAgc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICB0aGlzLmdldHRUaW1lKCkKICAgIH0sIDEwMDApCiAgfSwKICBjb21wdXRlZDogewogICAgYWxhcm1Db3VudCgpIHsKICAgICAgbGV0IGNvdW50ID0gMAogICAgICB0aGlzLmNoYXJ0MURhdGEuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICBpZiAoaW5kZXggPiAwKSB7CiAgICAgICAgICBjb3VudCArPSBOdW1iZXIoaXRlbVswXSkKICAgICAgICB9CiAgICAgIH0pCiAgICAgIHJldHVybiBjb3VudAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaW5pdENoYXJ0MSgpIHsKICAgICAgdGhpcy5jaGFydDEgPSBlY2hhcnRzLmluaXQodGhpcy4kcmVmcy5jaGFydDEpCiAgICAgIHRoaXMuY2hhcnQxLnNldE9wdGlvbih7CiAgICAgICAgICB0aXRsZTogewogICAgICAgICAgICBzaG93OiAidHJ1ZSIsCiAgICAgICAgICAgIHRleHQ6ICLlkITotKPku7vljLrkuovku7bnu5/orqEiLAogICAgICAgICAgICB0ZXh0U3R5bGU6IHsvL+S4u+agh+mimOaWh+acrOagt+W8j3siZm9udFNpemUiOiAxOCwiZm9udFdlaWdodCI6ICJib2xkZXIiLCJjb2xvciI6ICIjMzMzIn0KICAgICAgICAgICAgICAvLyBmb250RmFtaWx5OiAnQXJpYWwsIFZlcmRhbmEsIHNhbnMuLi4nLAogICAgICAgICAgICAgIGZvbnRTaXplOiAxNiwKICAgICAgICAgICAgICAvLyBmb250U3R5bGU6ICdub3JtYWwnLAogICAgICAgICAgICAgIC8vIGZvbnRXZWlnaHQ6ICdub3JtYWwnLAogICAgICAgICAgICAgIGNvbG9yOiAiI2Q2ZDJkMiIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG9wOiAiMHB4IiwKICAgICAgICAgICAgbGVmdDogIjglIgogICAgICAgICAgfSwKICAgICAgICAgIGRhdGFzZXQ6IHsKICAgICAgICAgICAgICBzb3VyY2U6IHRoaXMuY2hhcnQxRGF0YQogICAgICAgICAgfSwKICAgICAgICAgIGdyaWQ6IHsKICAgICAgICAgICAgdG9wOiAiMTUlIiwKICAgICAgICAgICAgbGVmdDogIjQwcHgiLAogICAgICAgICAgICBib3R0b206ICIxNy41JSIKICAgICAgICAgIH0sCiAgICAgICAgICB4QXhpczogewogICAgICAgICAgICAgIHR5cGU6ICd2YWx1ZScsCiAgICAgICAgICAgICAgLy8gbmFtZTogJ+S6i+S7tuaVsCcsCiAgICAgICAgICAgICAgY29sb3I6ICIjZDZkMmQyIiwKICAgICAgICAgICAgICBzcGxpdExpbmU6IHtzaG93OiBmYWxzZX0sCiAgICAgICAgICAgICAgLy8gZGF0YTogWyfkuIAnLCAn5LqMJywgJ+S4iScsICflm5snLCAn5LqUJywgJ+WFrScsICfkuIMnLCAn5YWrJywgJ+S5nSddLAogICAgICAgICAgICAgIGF4aXNMYWJlbDogewogICAgICAgICAgICAgICAgICBzaG93OiB0cnVlLAogICAgICAgICAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2Q2ZDJkMicKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgYXhpc0xpbmU6IHsKICAgICAgICAgICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmYnLCAvLyDpopzoibIKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB5QXhpczogewogICAgICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsCiAgICAgICAgICAgICAgLy8gbmFtZTogJ+i0o+S7u+WMuuWQjScsCiAgICAgICAgICAgICAgc3BsaXRMaW5lOiB7c2hvdzogZmFsc2V9LAogICAgICAgICAgICAgIC8vIGRhdGE6IFsn5LiAJywgJ+S6jCcsICfkuIknLCAn5ZubJywgJ+S6lCcsICflha0nLCAn5LiDJywgJ+WFqycsICfkuZ0nXSwKICAgICAgICAgICAgICBheGlzTGFiZWw6IHsKICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgdGV4dFN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNkNmQyZDInCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHdpZHRoOiAnNTBweCcKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGF4aXNMaW5lOiB7CiAgICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgICAgICAgICAgICBsaW5lU3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZicsIC8vIOminOiJsgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBuYW1lVGV4dFN0eWxlOiB7CiAgICAgICAgICAgICAgICB3aWR0aDogIjUwcHgiCiAgICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGNvbG9yOiAiIzIzY2VmZCIsCiAgICAgICAgICAvLyBncmlkOiB7Y29udGFpbkxhYmVsOiB0cnVlfSwKICAgICAgICAgIHNlcmllczogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ2JhcicsCiAgICAgICAgICAgICAgICAgIGVuY29kZTogewogICAgICAgICAgICAgICAgICAgICAgLy8gTWFwIHRoZSAiYW1vdW50IiBjb2x1bW4gdG8gWCBheGlzLgogICAgICAgICAgICAgICAgICAgICAgeDogJ2Ftb3VudCcsCiAgICAgICAgICAgICAgICAgICAgICAvLyBNYXAgdGhlICJwcm9kdWN0IiBjb2x1bW4gdG8gWSBheGlzCiAgICAgICAgICAgICAgICAgICAgICB5OiAncHJvZHVjdCcKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgYmFyV2lkdGg6IDIwCiAgICAgICAgICAgICAgfQogICAgICAgICAgXQogICAgICAgIH0KICAgICAgKQogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwoKT0+ewogICAgICAgIHRoaXMuY2hhcnQxLnJlc2l6ZSgpOwogICAgICB9KQogICAgfSwKCiAgICAvLyDojrflj5ZHUFPmlbDmja4KICAgIGdldEluZm8oKSB7CiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlCiAgICAgIHF1ZXJ5QXJlYUdwcyh0aGlzLnF1ZXJ5Rm9ybSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMucmV0Y29kZSA9PT0gMjAwICYmIHJlcy5yZXN1bHQgJiYgcmVzLnJlc3VsdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICBsZXQgb3JpZ2luQXJyID0gcmVzLnJlc3VsdCAvLyDmiYDmnInotKPku7vljLrvvIjlkKtpZO+8iQogICAgICAgICAgbGV0IGFmdGVyQXJyID0gW10gLy8g5pWw5o2u5aSE55CG6YeN57uE77yM5pyA5YaF5bGC5re75Yqg57q/5p2h6aKc6Imy5a2X5q61CiAgICAgICAgICBvcmlnaW5BcnIuZm9yRWFjaChsaW5lID0+IHsKICAgICAgICAgICAgbGV0IG9yaWdpbkxpbmUgPSB7fQogICAgICAgICAgICBvcmlnaW5MaW5lLnpvbmVfaWQgPSBsaW5lLnpvbmVfaWQKICAgICAgICAgICAgb3JpZ2luTGluZS5maWVsZHMgPSBbXQogICAgICAgICAgICBsaW5lLmZpZWxkcy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgIGxldCB0ZW1wT2JqID0ge30KICAgICAgICAgICAgICB0ZW1wT2JqLnBvaW50cyA9IFtdCiAgICAgICAgICAgICAgaXRlbS5ub2Rlcy5mb3JFYWNoKG5vZGUgPT4gewogICAgICAgICAgICAgICAgbGV0IG5vZGVPYmogPSB7fQogICAgICAgICAgICAgICAgbm9kZU9iai5sbmcgPSBub2RlLmxvbmdpdHVkZQogICAgICAgICAgICAgICAgbm9kZU9iai5sYXQgPSBub2RlLmxhdGl0dWRlCiAgICAgICAgICAgICAgICBub2RlT2JqLm9yZGVyID0gbm9kZS5vcmRlcgogICAgICAgICAgICAgICAgdGVtcE9ialsncG9pbnRzJ10ucHVzaChub2RlT2JqKQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgdGVtcE9iai5maWVsZF9pZCA9IGl0ZW0uZmllbGRfaWQKICAgICAgICAgICAgICB0ZW1wT2JqLmxpbmVDb2xvciA9IE5PUk1BTF9DT0xPUgogICAgICAgICAgICAgIG9yaWdpbkxpbmUuZmllbGRzLnB1c2godGVtcE9iaikKICAgICAgICAgICAgfSkKICAgICAgICAgICAgYWZ0ZXJBcnIucHVzaChvcmlnaW5MaW5lKQogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMubGluZXMgPSBhZnRlckFycgogICAgICAgICAgdGhpcy5nZXRBbGFybUZpZWxkcygpCiAgICAgICAgICBjb25zb2xlLmxvZygidGhpcy5saW5lcyIsIHRoaXMubGluZXMpCiAgICAgICAgfQogICAgICAgIC8vIEp1c3QgdG8gc2ltdWxhdGUgdGhlIHRpbWUgb2YgdGhlIHJlcXVlc3QKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZQogICAgICAgIH0sIDEgKiAxMDAwKQogICAgICB9KQogICAgfSwKCiAgICAvLyDojrflj5blnLDljLrmlbDmja4KICAgIGdldEFyZWFMaXN0KCkgewogICAgICBsZXQgcGFyYW1zID0ge30KICAgICAgcGFyYW1zLnBhZ2UgPSAxCiAgICAgIHBhcmFtcy5saW1pdCA9IDEwMDAKICAgICAgcXVlcnlBcmVhKHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMucmV0Y29kZSA9PSAyMDApIHsKICAgICAgICAgIHRoaXMuYXJlYUxpc3QgPSByZXMucmVzdWx0CiAgICAgICAgICB0aGlzLm1hcEZvcm0uYXJlYSA9IHRoaXMuYXJlYUxpc3RbMF0uYXJlYV9pZAogICAgICAgICAgaWYgKHRoaXMuYXJlYUxpc3QgJiYgdGhpcy5hcmVhTGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHRoaXMudG90YWwgPSB0aGlzLmFyZWFMaXN0Lmxlbmd0aAogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCgogICAgcXVlcnlMaW5lRGV0YWlsKCkgewogICAgICBsZXQgbm93ID0gbmV3IERhdGUoKQogICAgICBsZXQgbm93U3RyID0gbm93LmdldEZ1bGxZZWFyKCkgKyAnLScgKyAoTnVtYmVyKG5vdy5nZXRNb250aCgpKSArIDEpICsgJy0nICsgbm93LmdldERheSgpICsgJyAnICsgbm93LmdldEhvdXJzKCkgKyAnOicgKyBub3cuZ2V0TWludXRlcygpICsgJzonICsgbm93LmdldFNlY29uZHMoKQogICAgICBsZXQgYmVmb3JlU3RyID0gbm93LmdldEZ1bGxZZWFyKCkgKyAnLScgKyAoTnVtYmVyKG5vdy5nZXRNb250aCgpKSArIDEpICsgJy0nICsgTnVtYmVyKG5vdy5nZXREYXkoKSAtIDcpICsgJyAnICsgbm93LmdldEhvdXJzKCkgKyAnOicgKyBub3cuZ2V0TWludXRlcygpICsgJzonICsgbm93LmdldFNlY29uZHMoKQogICAgICBxdWVyeUxpbmVEZXRhaWwoeyBiZWdpbl90aW1lOiAnMjAyMC04LTEgMDA6MDA6MDAnLCBlbmRfdGltZTogJzIwMjAtOC0xMCAwMDowMDowMCcgfSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMucmV0Y29kZSA9PSAyMDAgJiYgcmVzLnJlc3VsdCAmJiByZXMucmVzdWx0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgIHRoaXMuY2hhcnQxRGF0YS5wdXNoKFsnYW1vdW50JywgJ3Byb2R1Y3QnXSkKICAgICAgICAgIHJlcy5yZXN1bHQuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgbGV0IHRlbXAgPSBbXQogICAgICAgICAgICB0ZW1wLnB1c2goaXRlbS50b3RhbF9jb3VudCkKICAgICAgICAgICAgdGVtcC5wdXNoKGl0ZW0ubmFtZSkKICAgICAgICAgICAgdGhpcy5jaGFydDFEYXRhLnB1c2godGVtcCkKICAgICAgICAgICAgdGhpcy5jaGFyZ2VDb3VudCArPSBOdW1iZXIoaXRlbS50b3RhbF9kZWFsKQogICAgICAgICAgICB0aGlzLmRpc0NvdW50ICs9IE51bWJlcihpdGVtLnRvdGFsX21pc3MpCiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNoYXJ0MURhdGEgPSBbCiAgICAgICAgICAgIFsnYW1vdW50JywgJ3Byb2R1Y3QnXSwKICAgICAgICAgICAgWzQwLCAn56S65L6L5LiAJ10sCiAgICAgICAgICAgIFsyMCwgJ+ekuuS+i+S6jCddLAogICAgICAgICAgICBbMzAsICfnpLrkvovkuIknXSwKICAgICAgICAgICAgWzE2LCAn56S65L6L5ZubJ10KICAgICAgICAgIF0KICAgICAgICB9CiAgICAgICAgdGhpcy5pbml0Q2hhcnQxKCkKICAgICAgICB0aGlzLmluaXRDaGFydDMoKQogICAgICB9KQogICAgfSwKCiAgICBnZXRUYWJsZURhdGEoKSB7CiAgICAgIGxldCBwYXJhbXMgPSB7fQogICAgICBwYXJhbXMucGFnZSA9IDEKICAgICAgcGFyYW1zLmxpbWl0ID0gMTAwMAogICAgICBxdWVyeUFsYXJtKHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMucmV0Y29kZSA9PT0gMjAwICYmIHJlcy5yZXN1bHQgJiYgcmVzLnJlc3VsdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5yZXN1bHQKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAoKICAgIGdldENlbnRlcigpIHsKICAgICAgZ2V0TWFwQ2VudGVyKCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMucmV0Y29kZSA9PT0gMjAwICYmIHJlcy5yZXN1bHQgJiYgcmVzLnJlc3VsdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICB0aGlzLmNlbnRlciA9IHJlcy5yZXN1bHQKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAoKICAgIGdldERldmljZUdwcygpIHsKICAgICAgcXVlcnlEZXZpY2VHcHMoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5yZXRjb2RlID09PSAyMDAgJiYgcmVzLnJlc3VsdCAmJiByZXMucmVzdWx0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgIHRoaXMucG9seWxpbmVQYXRoID0gcmVzLnJlc3VsdAogICAgICAgICAgdGhpcy5wb2x5bGluZVBhdGguZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgaXRlbS5sbmcgPSBpdGVtLmxvbmdpdHVkZQogICAgICAgICAgICBpdGVtLmxhdCA9IGl0ZW0ubGF0aXR1ZGUKICAgICAgICAgICAgaXRlbS5pZCA9IGl0ZW0uZGV2aWNlX2lkCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBnZXRBbGFybUZpZWxkcygpIHsKICAgICAgZ2V0QWxhcm1GaWVsZHMoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5yZXRjb2RlID09IDIwMCAmJiByZXMucmVzdWx0ICYmIHJlcy5yZXN1bHQubGVuZ3RoID4gMCkgewogICAgICAgICAgbGV0IHJlc3VsdCA9IHJlcy5yZXN1bHQKICAgICAgICAgIGxldCBhcnIgPSBbXQogICAgICAgICAgLy8gT2JqZWN0LmtleXMocmVzdWx0KS5mb3JFYWNoKGsgPT4gewogICAgICAgICAgLy8gICBhcnIucHVzaChyZXN1bHRba10pCiAgICAgICAgICAvLyB9KQogICAgICAgICAgcmVzdWx0LmZvckVhY2goem9uZSA9PiB7CiAgICAgICAgICAgIGxldCBmaWVsZCA9IHt9CiAgICAgICAgICAgIGZpZWxkLm5vZGVzID0gem9uZS5ub2RlX2xpc3QKICAgICAgICAgICAgZmllbGQubm9kZXMuZm9yRWFjaChub2RlID0+IHsKICAgICAgICAgICAgICBub2RlLmxuZyA9IG5vZGUubG9uZ2l0dWRlCiAgICAgICAgICAgICAgbm9kZS5sYXQgPSBub2RlLmxhdGl0dWRlCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGZpZWxkLnpvbmUgPSB6b25lLnpvbmUKICAgICAgICAgICAgYXJyLnB1c2goZmllbGQpCiAgICAgICAgICB9KQogICAgICAgICAgYXJyWzBdWydub2RlcyddWzFdLmxuZyA9IDEyMC4yNDMxNDIwMDAwMDAKICAgICAgICAgIGFyclswXVsnbm9kZXMnXVsxXS5sYXQgPSAzMC4yMjc5ODAwMDAwMDAKICAgICAgICAgIGNvbnNvbGUubG9nKCdhcnInLCBhcnIpCiAgICAgICAgICB0aGlzLmFsYXJtbGluZXMgPSBhcnIKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgZ2V0QXJlYUluZm8oKSB7CiAgICAgIGxldCBwYXJhbXMgPSB7fQogICAgICBwYXJhbXMuc3RhcnR0aW1lID0gJzIwMjAtMDctMjEgMTU6MDE6MjMnCiAgICAgIHBhcmFtcy5lbmR0aW1lID0gJzIwMjAtMDctMjggMTU6MDE6MjMnCiAgICAgIGdldEFyZWFJbmZvKHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMucmV0Y29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAvLyBbNTIsICfotKPku7vljLonXSwKICAgICAgICAgIC8vIFs0MCwgJ+iuvuWkh+aVsCddLAogICAgICAgICAgLy8gWzMwLCAn6Ziy5Yy65Z6LJ10sCiAgICAgICAgICAvLyBbMjAsICflrprkvY3lnosnXSwKICAgICAgICAgIC8vIFs0MCwgJ+i0o+S7u+S6uiddCiAgICAgICAgICBsZXQgdGVtcEFycjEgPSBbXQogICAgICAgICAgdGVtcEFycjEucHVzaChyZXMuem9uZV9udW0gfHwgMCkKICAgICAgICAgIHRlbXBBcnIxLnB1c2goJ+i0o+S7u+WMuicpCiAgICAgICAgICBsZXQgdGVtcEFycjIgPSBbXQogICAgICAgICAgdGVtcEFycjIucHVzaCgocmVzLmd0X251bSArIHJlcy5zbXRfbnVtKSB8fCAwKQogICAgICAgICAgdGVtcEFycjIucHVzaCgn6K6+5aSH5pWwJykKICAgICAgICAgIGxldCB0ZW1wQXJyMyA9IFtdCiAgICAgICAgICB0ZW1wQXJyMy5wdXNoKHJlcy5zbXRfbnVtIHx8IDApCiAgICAgICAgICB0ZW1wQXJyMy5wdXNoKCfpmLLljLrlnosnKQogICAgICAgICAgbGV0IHRlbXBBcnI0ID0gW10KICAgICAgICAgIHRlbXBBcnI0LnB1c2gocmVzLmd0X251bSB8fCAwKQogICAgICAgICAgdGVtcEFycjQucHVzaCgn5a6a5L2N5Z6LJykKICAgICAgICAgIGxldCB0ZW1wQXJyNSA9IFtdCiAgICAgICAgICB0ZW1wQXJyNS5wdXNoKChyZXMuem9uZV9udW0gKiAyKSB8fCAwKQogICAgICAgICAgdGVtcEFycjUucHVzaCgn6LSj5Lu75Lq6JykKICAgICAgICAgIHRoaXMuYXJlYURhdGEgPSBbIFsnYW1vdW50JywgJ3Byb2R1Y3QnXSwgdGVtcEFycjEsIHRlbXBBcnIyLCB0ZW1wQXJyMywgdGVtcEFycjQsIHRlbXBBcnI1IF0KICAgICAgICAgIGNvbnNvbGUubG9nKCd0aGlzLmFyZWFEYXRhJywgdGhpcy5hcmVhRGF0YSkKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0aGlzLmluaXRDaGFydDIoKQogICAgICAgICAgfSwgNTAwKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBnZXR0VGltZSgpIHsKICAgICAgbGV0IHRpbWUgPSBuZXcgRGF0ZSgpCiAgICAgIGxldCB0aW1lc3RyID0gdGltZS50b0xvY2FsZVN0cmluZygpCiAgICAgIHRoaXMudGltZSA9IHRpbWVzdHIKICAgIH0sCgogICAgaGFuZGxlU2hvd0RlY0luZm8oaWQpIHsKICAgICAgZ2V0RGV2aWNlSW5mbyh7IGlkOiBpZCB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5yZXRjb2RlID09PSAyMDApIHsKICAgICAgICAgIGlmICghcmVzLnJlc3VsdCkgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsgdHlwZTogJ3dhcm5pbmcnLCBtZXNzYWdlOiAn6K6+5aSH5pWw5o2u5byC5bi477yBJyB9KQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5jdXJyZW50RGV2ID0gcmVzLnJlc3VsdAogICAgICAgICAgICB0aGlzLmluZm9UeXBlID0gMQogICAgICAgICAgICB0aGlzLnNob3dXaW5kb3cgPSB0cnVlCiAgICAgICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCkKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pCiAgICB9LAoKICAgIHRlc3QoaWQpIHsKICAgICAgLy8gdGhpcy5pbmZvLmhlaWdodCA9IGV2ZW50LnNjcmVlblkKICAgICAgLy8gdGhpcy5pbmZvLndpZHRoID0gZXZlbnQuc2NyZWVuWAogICAgICBsZXQgcGFyYW1zID0ge30KICAgICAgcGFyYW1zLmlkID0gaWQKICAgICAgcGFyYW1zLnN0YXJ0dGltZSA9ICcyMDIwLTA4LTAxIDAwOjAwOjAwJwogICAgICBwYXJhbXMuZW5kdGltZSA9ICcyMDIwLTA4LTEwIDAwOjAwOjAwJwogICAgICBxdWVyeVpvbmVJbmZvKHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMucmV0Y29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBpZiAoIXJlcy5yZXN1bHQpIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7IHR5cGU6ICd3YXJuaW5nJywgbWVzc2FnZTogJ+e6v+i3r+aVsOaNruW8guW4uO+8gScgfSkKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuY3VycmVudFpvbmUgPSByZXMucmVzdWx0CiAgICAgICAgICAgIHRoaXMuaW5mb1R5cGUgPSAwCiAgICAgICAgICAgIHRoaXMuc2hvd1dpbmRvdyA9IHRydWUKICAgICAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkKICAgICAgLy8gdGhpcy4kcmVmc1snaW5mb1dpbmRvdyddLnN0eWxlLmxlZnQgPSBldmVudC5waXhlbC54ICsgMTUgKyAncHgnCiAgICAgIC8vIHRoaXMuJHJlZnNbJ2luZm9XaW5kb3cnXS5zdHlsZS50b3AgPSBldmVudC5waXhlbC55IC0gMjA1ICsgJ3B4JwogICAgfSwKICAgIGhhbmRsZXIgKHtCTWFwLCBtYXB9KSB7CiAgICAgIGNvbnNvbGUubG9nKCfpppbpobXlnLDlm77kv6Hmga/vvJonLCBCTWFwLCBtYXApCiAgICAgIHRoaXMuY2VudGVyLmxuZyA9IHRoaXMuY2VudGVyLmxvbmdpdHVkZQogICAgICB0aGlzLmNlbnRlci5sYXQgPSB0aGlzLmNlbnRlci5sYXRpdHVkZQogICAgICB0aGlzLnpvb20gPSAxNAogICAgICBtYXAuQ29udHJvbEFuY2hvciA9ICdCTUFQX0FOQ0hPUl9UT1BfTEVGVCcKICAgICAgbWFwLmVuYWJsZUF1dG9SZXNpemUoKQogICAgfSwKICAgIGxpbmVJbihzdHIpIHsKICAgICAgbGV0IHRlbXBBcnIgPSBzdHIuc3BsaXQoJy0tJykKICAgICAgdGhpcy5saW5lc1t0ZW1wQXJyWzBdXS5maWVsZHNbdGVtcEFyclsxXV0ubGluZUNvbG9yID0gJyNlNmE3MDAnCiAgICB9LAogICAgbGluZU91dChzdHIpIHsKICAgICAgbGV0IHRlbXBBcnIgPSBzdHIuc3BsaXQoJy0tJykKICAgICAgdGhpcy5saW5lc1t0ZW1wQXJyWzBdXS5maWVsZHNbdGVtcEFyclsxXV0ubGluZUNvbG9yID0gJyMyM2NlZmQnCiAgICB9LAogICAgaGFuZGxlU2hvd0FyZWFJbmZvKCkgewogICAgICB0aGlzLnNob3dBcmVhID0gIXRoaXMuc2hvd0FyZWEKICAgIH0sCgogICAgaGFuZGxlRnVsbFNjcmVlbigpewogICAgICBsZXQgZWxlbWVudCA9IHRoaXMuJHJlZnMuZG9jCiAgICAgIGlmICh0aGlzLmZ1bGxzY3JlZW4pIHsKICAgICAgICAgIGlmIChkb2N1bWVudC5leGl0RnVsbHNjcmVlbikgewogICAgICAgICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk7CiAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4pIHsKICAgICAgICAgICAgICBkb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKCk7CiAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4pIHsKICAgICAgICAgICAgICBkb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKCk7CiAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4pIHsKICAgICAgICAgICAgICBkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKCk7CiAgICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoZWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbikgewogICAgICAgICAgICAgIGVsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW4oKTsKICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbikgewogICAgICAgICAgICAgIGVsZW1lbnQud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4oKTsKICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5tb3pSZXF1ZXN0RnVsbFNjcmVlbikgewogICAgICAgICAgICAgIGVsZW1lbnQubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTsKICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5tc1JlcXVlc3RGdWxsc2NyZWVuKSB7CiAgICAgICAgICAgICAgLy8gSUUxMQogICAgICAgICAgICAgIGVsZW1lbnQubXNSZXF1ZXN0RnVsbHNjcmVlbigpOwogICAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuZnVsbHNjcmVlbiA9ICF0aGlzLmZ1bGxzY3JlZW47CiAgICB9LAoKICAgIGluaXRDaGFydDIoKSB7CiAgICAgIHRoaXMuY2hhcnQyID0gZWNoYXJ0cy5pbml0KHRoaXMuJHJlZnMuY2hhcnQyKQogICAgICB0aGlzLmNoYXJ0Mi5zZXRPcHRpb24oewogICAgICAgICAgZGF0YXNldDogewogICAgICAgICAgICAgIHNvdXJjZTogdGhpcy5hcmVhRGF0YQogICAgICAgICAgfSwKICAgICAgICAgIGdyaWQ6IHsKICAgICAgICAgICAgdG9wOiAiNTBweCIsCiAgICAgICAgICAgIGxlZnQ6ICI1MHB4IiwKICAgICAgICAgICAgYm90dG9tOiAiMTAlIgogICAgICAgICAgfSwKICAgICAgICAgIHhBeGlzOiB7CiAgICAgICAgICAgICAgdHlwZTogJ3ZhbHVlJywKICAgICAgICAgICAgICAvLyBuYW1lOiAn5LqL5Lu25pWwJywKICAgICAgICAgICAgICBjb2xvcjogIiNkNmQyZDIiLAogICAgICAgICAgICAgIHNwbGl0TGluZToge3Nob3c6IGZhbHNlfSwKICAgICAgICAgICAgICAvLyBkYXRhOiBbJ+S4gCcsICfkuownLCAn5LiJJywgJ+WbmycsICfkupQnLCAn5YWtJywgJ+S4gycsICflhasnLCAn5LmdJ10sCiAgICAgICAgICAgICAgYXhpc0xhYmVsOiB7CiAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgICAgICAgIHRleHRTdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZDZkMmQyJwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBheGlzTGluZTogewogICAgICAgICAgICAgICAgICBsaW5lU3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZicsIC8vIOminOiJsgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHlBeGlzOiB7CiAgICAgICAgICAgICAgdHlwZTogJ2NhdGVnb3J5JywKICAgICAgICAgICAgICAvLyBuYW1lOiAn6LSj5Lu75Yy65ZCNJywKICAgICAgICAgICAgICBzcGxpdExpbmU6IHtzaG93OiBmYWxzZX0sCiAgICAgICAgICAgICAgLy8gZGF0YTogWyfkuIAnLCAn5LqMJywgJ+S4iScsICflm5snLCAn5LqUJywgJ+WFrScsICfkuIMnLCAn5YWrJywgJ+S5nSddLAogICAgICAgICAgICAgIGF4aXNMYWJlbDogewogICAgICAgICAgICAgICAgICBzaG93OiB0cnVlLAogICAgICAgICAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2Q2ZDJkMicKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgd2lkdGg6ICc1MHB4JwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgYXhpc0xpbmU6IHsKICAgICAgICAgICAgICAgICAgc2hvdzogZmFsc2UsCiAgICAgICAgICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmJywgLy8g6aKc6ImyCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG5hbWVUZXh0U3R5bGU6IHsKICAgICAgICAgICAgICAgIHdpZHRoOiAiNTBweCIKICAgICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgY29sb3I6ICIjMjNjZWZkIiwKICAgICAgICAgIC8vIGdyaWQ6IHtjb250YWluTGFiZWw6IHRydWV9LAogICAgICAgICAgc2VyaWVzOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICB0eXBlOiAnYmFyJywKICAgICAgICAgICAgICAgICAgZW5jb2RlOiB7CiAgICAgICAgICAgICAgICAgICAgICAvLyBNYXAgdGhlICJhbW91bnQiIGNvbHVtbiB0byBYIGF4aXMuCiAgICAgICAgICAgICAgICAgICAgICB4OiAnYW1vdW50JywKICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcCB0aGUgInByb2R1Y3QiIGNvbHVtbiB0byBZIGF4aXMKICAgICAgICAgICAgICAgICAgICAgIHk6ICdwcm9kdWN0JwogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBiYXJXaWR0aDogMjAKICAgICAgICAgICAgICB9CiAgICAgICAgICBdCiAgICAgICAgfQogICAgICApCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCgpPT57CiAgICAgICAgdGhpcy5jaGFydDIucmVzaXplKCk7CiAgICAgIH0pCiAgICB9LAoKICAgIGluaXRDaGFydDMoKSB7CiAgICAgIHRoaXMuY2hhcnQzID0gZWNoYXJ0cy5pbml0KHRoaXMuJHJlZnMuY2hhcnQzKQogICAgICB0aGlzLmNoYXJ0My5zZXRPcHRpb24oewogICAgICAgICAgY29sb3I6WyIjMjNjZWZkIiwgIiM2MWEwYTgiXSwKICAgICAgICAgIHNlcmllczogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ+S6i+S7tuexu+WeiycsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdwaWUnLAogICAgICAgICAgICAgICAgICByYWRpdXM6IFsnNDAlJywgJzU1JSddLAogICAgICAgICAgICAgICAgICBjZW50ZXI6IFsnNTAlJywgJzYwJSddLAogICAgICAgICAgICAgICAgICBsYWJlbDogewogICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVyOiAne2J8e2J9fe+8mlxue2hyfH1cbiAgICB7ZHx7ZH19JSAgICcsCiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLDAuMiknLAogICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjYWFhJywKICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAxLAogICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LAogICAgICAgICAgICAgICAgICAgICAgLy8gcGFkZGluZzogWzIsIDddLAogICAgICAgICAgICAgICAgICAgICAgcmljaDogewogICAgICAgICAgICAgICAgICAgICAgICAgIGI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29sb3I6ICcjOTk5JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZUhlaWdodDogMjAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgIGQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbG9yOiAnIzk5OScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiAyMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJwogICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgaHI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjYWFhJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDAuNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgZGF0YTogWwogICAgICAgICAgICAgICAgICAgICAge3ZhbHVlOiB0aGlzLmRpc0NvdW50IHx8IDEwLCBuYW1lOiAn6Z2e566h5o6n5LitJ30sCiAgICAgICAgICAgICAgICAgICAgICB7dmFsdWU6IHRoaXMuY2hhcmdlQ291bnQgIHx8IDEwLCBuYW1lOiAn566h5o6n5LitJ30KICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgIH0KICAgICAgICAgIF0KICAgICAgICB9CiAgICAgICkKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsKCk9PnsKICAgICAgICB0aGlzLmNoYXJ0My5yZXNpemUoKTsKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/dashboard","sourcesContent":["<template>\n  <div class=\"gs-home-wrapper\" @click.capture=\"showWindow = false\" ref=\"doc\">\n    <img src=\"../../assets/img/background.png\" class=\"bg-img\" alt=\"\">\n    <div class=\"top-title\">\n      <img src=\"../../assets/img/topleft.png\" class=\"top-left-wrapper\" alt=\"\">\n      <div class=\"top-mid-wrapper\">\n        <img src=\"../../assets/img/topmid.png\" class=\"f-width f-width\">\n        <span class=\"title-content f-width abs\">振动预警防护全覆盖平台</span>\n      </div>\n      <img src=\"../../assets/img/topright.png\" class=\"top-right-img abs\">\n      <span style=\"position: absolute;z-index: 9;color: #23cefd;right: 3%;top: 10%;\">{{time}}</span>\n    </div>\n    <svg-icon :icon-class=\"fullscreen?'exit-fullscreen':'fullscreen'\" @click=\"handleFullScreen\" style=\"position: absolute;right: 2vw;top: 5vh;color: #23cefd;;z-inde: 999;cursor: pointer;width: 20px;height: 20px;\"/>\n    <div class=\"bottom-content f-width abs\">\n      <div class=\"content-left abs f-height\">\n        <div class=\"content-left-top f-width rel\">\n          <img src=\"../../assets/img/condition.png\" class=\"f-width f-height\" alt=\"\">\n          <div class=\"com-title-wrapper abs\">\n            <img src=\"../../assets/img/title.png\" class=\"f-width f-height\" alt=\"\">\n            <span class=\"com-title-content abs\">区域时间选择</span>\n          </div>\n          <div class=\"f-width f-height abs\" style=\"top: 35%;left: 3.5%;\">\n            <el-select class=\"map-select\" size=\"mini\" v-model=\"mapForm.area\">\n              <el-option v-for=\"item in areaList\" :key=\"item.area_id\"  :value=\"item.area_id\" :label=\"item.area_name\">\n                {{item.area_name}}\n              </el-option>\n            </el-select>\n          </div>\n          <div class=\"f-width f-height abs\" style=\"top: 65%;left: 3.5%;\">\n            <el-select class=\"map-select\" size=\"mini\" v-model=\"mapForm.time\">\n              <el-option value=\"1\" label=\"一周内\">\n                一周内\n              </el-option>\n              <el-option value=\"2\" label=\"两周内\">\n                两周内\n              </el-option>\n              <el-option value=\"3\" label=\"一月内\">\n                一月内\n              </el-option>\n            </el-select>\n          </div>\n        </div>\n        <div class=\"content-left-mid f-width rel\">\n          <img src=\"../../assets/img/areaevent.png\" class=\"f-width f-height\" alt=\"\">\n          <div class=\"com-title-wrapper abs\">\n            <img src=\"../../assets/img/title.png\" class=\"f-width f-height\" alt=\"\">\n            <span class=\"com-title-content abs\">区域事件统计</span>\n          </div>\n          <div class=\"event-num-wrapper f-width abs\">\n            <span class=\"event-num-words\">共计</span>\n            <span class=\"event-num-content\">\n                {{alarmCount}}\n            </span>\n            <span class=\"event-num-words\">次</span>\n          </div>\n          <div ref=\"chart1\" class=\"abs chart1\">\n          </div>\n        </div>\n        <div class=\"f-width rel\" style=\"height: 27%;\"> \n          <img src=\"../../assets/img/result.png\" class=\"f-width f-height\" alt=\"\">\n          <div class=\"com-title-wrapper abs\">\n            <img src=\"../../assets/img/title.png\" class=\"f-width f-height\" alt=\"\">\n            <span class=\"com-title-content abs\">处理结果统计</span>\n          </div>\n          <div ref=\"chart3\" class=\"abs chart1\" style=\"height: 100%;width: 100%;bottom: 0px;left: 0;padding: 0 10px;\">\n          </div>\n        </div>\n      </div>\n      <div class=\"content-mid f-height abs\" style=\"width: 50%;left: 25%;\"> \n        <div class=\"f-width rel\" style=\"height: 68.9%;margin-bottom: 1.5vh;\">\n          <!-- 线路信息窗口开始 -->\n          <div class=“gs-info-window-line” \n          :style=\"{'position': 'absolute', 'width': '250px', 'height': '145px', 'background': 'rgba(8, 32, 51, 0.85)', 'z-index': '12', 'border-radius': '6px', 'color': 'rgb(35 206 253)', 'left': '10px', 'top': '10px','font-size': '14px'}\"\n          ref=\"infoWindow\" \n          v-show=\"showWindow\">\n              <div class=\"line-info-title\">\n                <span class=\"title-detail\">\n                  <span v-if=\"infoType == 0\">线路名称：{{currentZone.name}}</span>  \n                  <span v-if=\"infoType == 1\">设备名称：{{currentDev.name}}</span>  \n                </span>\n              </div>\n              <div class=\"line-info-content\" v-if=\"infoType == 0\">\n                <div class=\"content-detail\"><span>防区数：</span> <span>{{currentZone.fields_num}}</span></div>\n                <div class=\"content-detail\"><span>告警事件数：</span> <span>{{currentZone.alarm_num}}</span> </div>\n                <div class=\"content-detail\"><span>负责人一：</span> <span>{{currentZone.person1}}</span> </div>\n                <div class=\"content-detail\"><span>负责人二：</span> <span>{{currentZone.person2}}</span> </div>\n              </div>\n              <div class=\"line-info-content\" v-if=\"infoType == 1\">\n                <div class=\"content-detail\"><span>设备号：</span> <span>{{currentDev.device_id}}</span></div>\n                <div class=\"content-detail\"><span>告警事件数：</span> <span>{{currentDev.alarm_num}}</span> </div>\n                <!-- <div class=\"content-detail\"><span>发生时间：</span> <span>{{currentDev.time}}</span> </div> -->\n                <!-- <div class=\"content-detail\"><span>负责人二：</span> <span>李四</span> </div> -->\n              </div>\n          </div>\n          <!-- 线路信息窗口结束 -->\n          <img src=\"../../assets/img/map.png\" class=\"f-width f-height abs\" style=\"left: 0; top: 0;z-index: 2;\" alt=\"\">\n          <baidu-map :mapStyle=\"mapStyle\" :mapClick=\"false\" :scroll-wheel-zoom=\"true\" :center=\"center\" :zoom=\"zoom\" @ready=\"handler\" class=\"bm-view\">\n            <!-- 自定义点 -->\n            <bm-marker :position=\"item\" :dragging=\"false\" v-for=\"(item, index) in polylinePath\" :key=\"index\" :icon=\"{url: index % 2 === 0 ? 'https://s1.ax1x.com/2020/08/03/aUiTte.gif' : 'https://s1.ax1x.com/2020/08/03/aUAul9.gif', size: {width: 35, height: 35}}\" @click=\"handleShowDecInfo(item.id)\"></bm-marker>\n            <!-- <bm-marker :position=\"item\" :dragging=\"true\" v-for=\"(item, index) in polylinePath\" :key=\"index\" :icon=\"{url: 'https://s1.ax1x.com/2020/08/03/aUAul9.gif', size: {width: 35, height: 35}}\"></bm-marker> -->\n            <!-- 折线控件 -->\n            <div v-for=\"(line, index) in lines\" :key=\" 'line' + '-' + line.zone_id + '-' + index\">\n              <bm-polyline v-for=\"(item, index2) in line.fields\" :key=\"line.zone_id + '--' + index2\" :path=\"item.points\" :stroke-color=\"item.lineColor\"\n                @mouseover=\"lineIn(index + '--' + index2)\"\n                @mouseout=\"lineOut(index + '--' + index2)\"\n                :stroke-opacity=\"0.75\" :stroke-weight=\"4\" :editing=\"false\" @click=\"test(line.zone_id)\">\n              </bm-polyline>    \n            </div>\n            <bm-polyline v-for=\"(field, index) in alarmlines\" :key=\"'alarm' + index\" :path=\"field.nodes\" stroke-color=\"#ec2d2e\"\n              style=\"z-index: 100\"\n              :stroke-opacity=\"0.9\" :stroke-weight=\"4\" :editing=\"false\" @click=\"test(field.zone)\">\n            </bm-polyline>    \n              \n          </baidu-map>\n        </div>\n        <div class=\"f-width rel\" style=\"height: 27%;\">\n          <img src=\"../../assets/img/photo.png\"  class=\"f-width f-height\" alt=\"\">\n          <div class=\"com-title-wrapper abs\" style=\"width: 35%;\">\n            <img src=\"../../assets/img/title.png\" class=\"f-width f-height\" alt=\"\">\n            <span class=\"com-title-content abs\">现场照片</span>\n          </div>\n          <div style=\"display: flex;left: 0;top: 0;z-index: 3;height: 70%;margin-top: 50px;padding: 0 20px;justify-content: space-between\" class=\"abs f-width\"> \n            <div style=\"flex: 0 0 32.5%;border-radius: 5px;\" class=\"rel\">\n              <img src=\"../../assets/img/photo2.png\" style=\"left: 0;top: 0;z-index:10\" class=\"f-width f-height abs\" alt=\"\">\n              <img src=\"../../assets/img/p1.jpg\" class=\"f-width f-height abs\" style=\"left: 0;top: 0;padding: 5px;z-index: 9;\" alt=\"\">\n            </div>\n            <div style=\"flex: 0 0 32.5%;border-radius: 5px;\" class=\"rel\"> \n              <img src=\"../../assets/img/photo2.png\" style=\"left: 0;top: 0;z-index:10\" class=\"f-width f-height abs\" alt=\"\">\n              <img src=\"../../assets/img/p2.jpg\" class=\"f-width f-height abs\" style=\"left: 0;top: 0;padding: 5px;z-index: 9;\" alt=\"\">\n            </div>\n            <div style=\"flex: 0 0 32.5%;border-radius: 5px;\" class=\"rel\">\n              <img src=\"../../assets/img/photo2.png\" style=\"left: 0;top: 0;z-index:10\" class=\"f-width f-height abs\" alt=\"\">\n              <img src=\"../../assets/img/p3.jpg\" class=\"f-width f-height abs\" style=\"left: 0;top: 0;padding: 5px;z-index: 9;\" alt=\"\">\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"content-right f-height abs\" style=\"width: 25%;right: 0;padding: 0 20px;\">\n        <div class=\"f-width rel\" style=\"height: 37.5%;margin-bottom: 1.5vh;\">\n          <img src=\"../../assets/img/area.png\" class=\"f-width f-height\" alt=\"\">\n          <div class=\"com-title-wrapper abs\">\n            <img src=\"../../assets/img/title.png\" class=\"f-width f-height\" alt=\"\">\n            <span class=\"com-title-content abs\">区域统计信息</span>\n          </div>\n          <div ref=\"chart2\" class=\"abs chart1\" style=\"height: 100%;\">\n          </div>\n        </div>\n        <div class=\"f-width rel\" style=\"height: 57.8%;\">\n          <img src=\"../../assets/img/event.png\" class=\"f-width f-height\" alt=\"\">\n          <div class=\"com-title-wrapper abs\">\n            <img src=\"../../assets/img/title.png\" class=\"f-width f-height\" alt=\"\">\n            <span class=\"com-title-content abs\">近期事件列表</span>\n          </div>\n          <div class=\"abs f-width user_skills\" style=\"top: 8%;height: 100%;\">\n            <el-table\n              :data=\"tableData\"\n              style=\"width: 94%;height:84%\">\n              <el-table-column\n                type=\"index\"\n                label=\"序号\"\n                align=\"center\"\n                width=\"50\">\n              </el-table-column>\n              <el-table-column\n                prop=\"begin_time\"\n                align=\"center\"\n                min-width=\"100\"\n                label=\"发生时间\">\n              </el-table-column>\n              <el-table-column\n                prop=\"position\"\n                label=\"发生位置\"\n                align=\"left\">\n              </el-table-column>\n            </el-table>\n          </div>\n        </div>\n      </div>\n    </div>    \n\n    \n\n    <!-- 地区信息窗口开始 -->\n    <div draggable=\"true\" style=\"display: none;\">\n      <div class=\"gs-info-window-area\">\n        <div class=\"area-wrapper\" @click=\"handleShowAreaInfo\">\n          <span>地图统计信息</span> \n          <div class=\"\" style=\"position: absolute;right: 15px;top: 0px;\">\n            <i v-if=\"showArea == true\" class=\"el-icon-arrow-up\" />\n            <i v-else class=\"el-icon-arrow-down\" />\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 地区信息窗口结束 -->\n  </div>\n</template>\n\n<script>\nimport { queryArea } from '@/api/area/area.js'\nimport { queryAlarm } from '@/api/alarm/alarm.js'\nimport { queryLineDetail } from '@/api/line/line.js'\nimport echarts from 'echarts'\nimport { queryAreaGps, queryDeviceGps, getAreaInfo, getMapCenter, getDeviceInfo, queryZoneInfo, getAlarmFields } from '@/api/dashboard/dashboard.js'\nconst NORMAL_COLOR = '#23cefd'\nconst SPECIAL_COLOR = \"black\"\nexport default {\n  name: 'Dashboard',\n  data() {\n    return {\n      fullscreen: false,\n      value1: '',\n      time: '',\n      showArea: true,\n      center: {lng: 120.203365, lat: 30.211784},\n      zoom: 8,\n      polylinePath: [],\n      lines: [],\n      alarmlines: [],\n      lineColor: [],\n      showWindow: false,\n      mapForm: {\n        area: '请选择区域',\n        time: '一周内'\n      },\n      currentDev: {},\n      currentZone: {},\n      infoType: '',\n      areaList: [],\n      mapStyle: {\n        features: [\"road\", \"building\", \"water\", \"land\"], //隐藏地图上的\"poi\",\n        style: \"midnight\"\n        // var style_map=['normal','light','dark','redalert','googlelite','grassgreen','midnight','pink','darkgreen','bluish','grayscale','hardedge'];\n        //分别风格是：默认地图样式，清新蓝风格，黑夜风格，红色警戒风格，精简风格，自然绿风格，午夜蓝风格，浪漫粉风格，青春绿风格，清新蓝绿风格，高端灰风格，强边界风格\n      },\n      chart1: '',\n      chart2: '',\n      chart3: '',\n      chart1Data: [],\n      tableData: [{\n            date: '2016-05-02',\n            name: '王小虎',\n            address: '2020/7/24'\n          }, {\n            date: '2016-05-04',\n            name: '王小虎',\n            address: '2020/7/24'\n          }, {\n            date: '2016-05-01',\n            name: '王小虎',\n            address: '2020/7/24'\n          }, {\n            date: '2016-05-03',\n            name: '王小虎',\n            address: '2020/7/24'\n          }, {\n            date: '2016-05-04',\n            name: '王小虎',\n            address: '2020/7/24'\n          }, {\n            date: '2016-05-01',\n            name: '王小虎',\n            address: '2020/7/24'\n          }, {\n            date: '2016-05-03',\n            name: '王小虎',\n            address: '2020/7/24'\n          }, {\n            date: '2016-05-04',\n            name: '王小虎',\n            address: '2020/7/24'\n          }, {\n            date: '2016-05-01',\n            name: '王小虎',\n            address: '2020/7/24'\n          }, {\n            date: '2016-05-03',\n            name: '王小虎',\n            address: '2020/7/24'\n          }]\n    \n    \n    }\n  },\n  created() {\n    this.getInfo()\n    this.getDeviceGps()\n    this.getCenter() // 获取地图坐标中线点\n    this.getAreaInfo() // 区域统计信息\n    this.getAreaList() // 获取地区列表\n    this.getTableData() // 获取事件列表数据\n    this.queryLineDetail() // 获取所有责任区的告警事件\n    this.time = (new Date()).toLocaleString()\n  },\n  mounted() {\n    setInterval(() => {\n      this.getAlarmFields()\n    }, 5000)\n    setInterval(() => {\n      this.gettTime()\n    }, 1000)\n  },\n  computed: {\n    alarmCount() {\n      let count = 0\n      this.chart1Data.forEach((item, index) => {\n        if (index > 0) {\n          count += Number(item[0])\n        }\n      })\n      return count\n    }\n  },\n  methods: {\n    initChart1() {\n      this.chart1 = echarts.init(this.$refs.chart1)\n      this.chart1.setOption({\n          title: {\n            show: \"true\",\n            text: \"各责任区事件统计\",\n            textStyle: {//主标题文本样式{\"fontSize\": 18,\"fontWeight\": \"bolder\",\"color\": \"#333\"}\n              // fontFamily: 'Arial, Verdana, sans...',\n              fontSize: 16,\n              // fontStyle: 'normal',\n              // fontWeight: 'normal',\n              color: \"#d6d2d2\"\n            },\n            top: \"0px\",\n            left: \"8%\"\n          },\n          dataset: {\n              source: this.chart1Data\n          },\n          grid: {\n            top: \"15%\",\n            left: \"40px\",\n            bottom: \"17.5%\"\n          },\n          xAxis: {\n              type: 'value',\n              // name: '事件数',\n              color: \"#d6d2d2\",\n              splitLine: {show: false},\n              // data: ['一', '二', '三', '四', '五', '六', '七', '八', '九'],\n              axisLabel: {\n                  show: true,\n                  textStyle: {\n                      color: '#d6d2d2'\n                  }\n              },\n              axisLine: {\n                  lineStyle: {\n                      color: '#fff', // 颜色\n                  }\n              }\n          },\n          yAxis: {\n              type: 'category',\n              // name: '责任区名',\n              splitLine: {show: false},\n              // data: ['一', '二', '三', '四', '五', '六', '七', '八', '九'],\n              axisLabel: {\n                  show: true,\n                  textStyle: {\n                      color: '#d6d2d2'\n                  },\n                  width: '50px'\n              },\n              axisLine: {\n                  show: false,\n                  lineStyle: {\n                      color: '#fff', // 颜色\n                  }\n              },\n              nameTextStyle: {\n                width: \"50px\"\n              }\n          },\n          color: \"#23cefd\",\n          // grid: {containLabel: true},\n          series: [\n              {\n                  type: 'bar',\n                  encode: {\n                      // Map the \"amount\" column to X axis.\n                      x: 'amount',\n                      // Map the \"product\" column to Y axis\n                      y: 'product'\n                  },\n                  barWidth: 20\n              }\n          ]\n        }\n      )\n      window.addEventListener(\"resize\",()=>{\n        this.chart1.resize();\n      })\n    },\n\n    // 获取GPS数据\n    getInfo() {\n      this.listLoading = true\n      queryAreaGps(this.queryForm).then(res => {\n        if (res.retcode === 200 && res.result && res.result.length > 0) {\n          let originArr = res.result // 所有责任区（含id）\n          let afterArr = [] // 数据处理重组，最内层添加线条颜色字段\n          originArr.forEach(line => {\n            let originLine = {}\n            originLine.zone_id = line.zone_id\n            originLine.fields = []\n            line.fields.forEach(item => {\n              let tempObj = {}\n              tempObj.points = []\n              item.nodes.forEach(node => {\n                let nodeObj = {}\n                nodeObj.lng = node.longitude\n                nodeObj.lat = node.latitude\n                nodeObj.order = node.order\n                tempObj['points'].push(nodeObj)\n              })\n              tempObj.field_id = item.field_id\n              tempObj.lineColor = NORMAL_COLOR\n              originLine.fields.push(tempObj)\n            })\n            afterArr.push(originLine)\n          })\n          this.lines = afterArr\n          this.getAlarmFields()\n          console.log(\"this.lines\", this.lines)\n        }\n        // Just to simulate the time of the request\n        setTimeout(() => {\n          this.listLoading = false\n        }, 1 * 1000)\n      })\n    },\n\n    // 获取地区数据\n    getAreaList() {\n      let params = {}\n      params.page = 1\n      params.limit = 1000\n      queryArea(params).then(res => {\n        if (res.retcode == 200) {\n          this.areaList = res.result\n          this.mapForm.area = this.areaList[0].area_id\n          if (this.areaList && this.areaList.length > 0) {\n            this.total = this.areaList.length\n          }\n        }\n      })\n    },\n\n    queryLineDetail() {\n      let now = new Date()\n      let nowStr = now.getFullYear() + '-' + (Number(now.getMonth()) + 1) + '-' + now.getDay() + ' ' + now.getHours() + ':' + now.getMinutes() + ':' + now.getSeconds()\n      let beforeStr = now.getFullYear() + '-' + (Number(now.getMonth()) + 1) + '-' + Number(now.getDay() - 7) + ' ' + now.getHours() + ':' + now.getMinutes() + ':' + now.getSeconds()\n      queryLineDetail({ begin_time: '2020-8-1 00:00:00', end_time: '2020-8-10 00:00:00' }).then(res => {\n        if (res.retcode == 200 && res.result && res.result.length > 0) {\n          this.chart1Data.push(['amount', 'product'])\n          res.result.forEach(item => {\n            let temp = []\n            temp.push(item.total_count)\n            temp.push(item.name)\n            this.chart1Data.push(temp)\n            this.chargeCount += Number(item.total_deal)\n            this.disCount += Number(item.total_miss)\n          })\n        } else {\n          this.chart1Data = [\n            ['amount', 'product'],\n            [40, '示例一'],\n            [20, '示例二'],\n            [30, '示例三'],\n            [16, '示例四']\n          ]\n        }\n        this.initChart1()\n        this.initChart3()\n      })\n    },\n\n    getTableData() {\n      let params = {}\n      params.page = 1\n      params.limit = 1000\n      queryAlarm(params).then(res => {\n        if (res.retcode === 200 && res.result && res.result.length > 0) {\n          this.tableData = res.result\n        }\n      })\n    },\n\n    getCenter() {\n      getMapCenter().then(res => {\n        if (res.retcode === 200 && res.result && res.result.length > 0) {\n          this.center = res.result\n        }\n      })\n    },\n\n    getDeviceGps() {\n      queryDeviceGps().then(res => {\n        if (res.retcode === 200 && res.result && res.result.length > 0) {\n          this.polylinePath = res.result\n          this.polylinePath.forEach(item => {\n            item.lng = item.longitude\n            item.lat = item.latitude\n            item.id = item.device_id\n          })\n        }\n      })\n    },\n    getAlarmFields() {\n      getAlarmFields().then(res => {\n        if (res.retcode == 200 && res.result && res.result.length > 0) {\n          let result = res.result\n          let arr = []\n          // Object.keys(result).forEach(k => {\n          //   arr.push(result[k])\n          // })\n          result.forEach(zone => {\n            let field = {}\n            field.nodes = zone.node_list\n            field.nodes.forEach(node => {\n              node.lng = node.longitude\n              node.lat = node.latitude\n            })\n            field.zone = zone.zone\n            arr.push(field)\n          })\n          arr[0]['nodes'][1].lng = 120.243142000000\n          arr[0]['nodes'][1].lat = 30.227980000000\n          console.log('arr', arr)\n          this.alarmlines = arr\n        }\n      })\n    },\n    getAreaInfo() {\n      let params = {}\n      params.starttime = '2020-07-21 15:01:23'\n      params.endtime = '2020-07-28 15:01:23'\n      getAreaInfo(params).then(res => {\n        if (res.retcode === 200) {\n          // [52, '责任区'],\n          // [40, '设备数'],\n          // [30, '防区型'],\n          // [20, '定位型'],\n          // [40, '责任人']\n          let tempArr1 = []\n          tempArr1.push(res.zone_num || 0)\n          tempArr1.push('责任区')\n          let tempArr2 = []\n          tempArr2.push((res.gt_num + res.smt_num) || 0)\n          tempArr2.push('设备数')\n          let tempArr3 = []\n          tempArr3.push(res.smt_num || 0)\n          tempArr3.push('防区型')\n          let tempArr4 = []\n          tempArr4.push(res.gt_num || 0)\n          tempArr4.push('定位型')\n          let tempArr5 = []\n          tempArr5.push((res.zone_num * 2) || 0)\n          tempArr5.push('责任人')\n          this.areaData = [ ['amount', 'product'], tempArr1, tempArr2, tempArr3, tempArr4, tempArr5 ]\n          console.log('this.areaData', this.areaData)\n          setTimeout(() => {\n            this.initChart2()\n          }, 500)\n        }\n      })\n    },\n    gettTime() {\n      let time = new Date()\n      let timestr = time.toLocaleString()\n      this.time = timestr\n    },\n\n    handleShowDecInfo(id) {\n      getDeviceInfo({ id: id }).then(res => {\n        if (res.retcode === 200) {\n          if (!res.result) {\n            this.$message({ type: 'warning', message: '设备数据异常！' })\n          } else {\n            this.currentDev = res.result\n            this.infoType = 1\n            this.showWindow = true\n            this.$forceUpdate()\n          }\n        }\n      })\n    },\n\n    test(id) {\n      // this.info.height = event.screenY\n      // this.info.width = event.screenX\n      let params = {}\n      params.id = id\n      params.starttime = '2020-08-01 00:00:00'\n      params.endtime = '2020-08-10 00:00:00'\n      queryZoneInfo(params).then(res => {\n        if (res.retcode === 200) {\n          if (!res.result) {\n            this.$message({ type: 'warning', message: '线路数据异常！' })\n          } else {\n            this.currentZone = res.result\n            this.infoType = 0\n            this.showWindow = true\n            this.$forceUpdate()\n          }\n        }\n      })\n      // this.$refs['infoWindow'].style.left = event.pixel.x + 15 + 'px'\n      // this.$refs['infoWindow'].style.top = event.pixel.y - 205 + 'px'\n    },\n    handler ({BMap, map}) {\n      console.log('首页地图信息：', BMap, map)\n      this.center.lng = this.center.longitude\n      this.center.lat = this.center.latitude\n      this.zoom = 14\n      map.ControlAnchor = 'BMAP_ANCHOR_TOP_LEFT'\n      map.enableAutoResize()\n    },\n    lineIn(str) {\n      let tempArr = str.split('--')\n      this.lines[tempArr[0]].fields[tempArr[1]].lineColor = '#e6a700'\n    },\n    lineOut(str) {\n      let tempArr = str.split('--')\n      this.lines[tempArr[0]].fields[tempArr[1]].lineColor = '#23cefd'\n    },\n    handleShowAreaInfo() {\n      this.showArea = !this.showArea\n    },\n\n    handleFullScreen(){\n      let element = this.$refs.doc\n      if (this.fullscreen) {\n          if (document.exitFullscreen) {\n              document.exitFullscreen();\n          } else if (document.webkitCancelFullScreen) {\n              document.webkitCancelFullScreen();\n          } else if (document.mozCancelFullScreen) {\n              document.mozCancelFullScreen();\n          } else if (document.msExitFullscreen) {\n              document.msExitFullscreen();\n          }\n      } else {\n          if (element.requestFullscreen) {\n              element.requestFullscreen();\n          } else if (element.webkitRequestFullScreen) {\n              element.webkitRequestFullScreen();\n          } else if (element.mozRequestFullScreen) {\n              element.mozRequestFullScreen();\n          } else if (element.msRequestFullscreen) {\n              // IE11\n              element.msRequestFullscreen();\n          }\n      }\n      this.fullscreen = !this.fullscreen;\n    },\n\n    initChart2() {\n      this.chart2 = echarts.init(this.$refs.chart2)\n      this.chart2.setOption({\n          dataset: {\n              source: this.areaData\n          },\n          grid: {\n            top: \"50px\",\n            left: \"50px\",\n            bottom: \"10%\"\n          },\n          xAxis: {\n              type: 'value',\n              // name: '事件数',\n              color: \"#d6d2d2\",\n              splitLine: {show: false},\n              // data: ['一', '二', '三', '四', '五', '六', '七', '八', '九'],\n              axisLabel: {\n                  show: true,\n                  textStyle: {\n                      color: '#d6d2d2'\n                  }\n              },\n              axisLine: {\n                  lineStyle: {\n                      color: '#fff', // 颜色\n                  }\n              }\n          },\n          yAxis: {\n              type: 'category',\n              // name: '责任区名',\n              splitLine: {show: false},\n              // data: ['一', '二', '三', '四', '五', '六', '七', '八', '九'],\n              axisLabel: {\n                  show: true,\n                  textStyle: {\n                      color: '#d6d2d2'\n                  },\n                  width: '50px'\n              },\n              axisLine: {\n                  show: false,\n                  lineStyle: {\n                      color: '#fff', // 颜色\n                  }\n              },\n              nameTextStyle: {\n                width: \"50px\"\n              }\n          },\n          color: \"#23cefd\",\n          // grid: {containLabel: true},\n          series: [\n              {\n                  type: 'bar',\n                  encode: {\n                      // Map the \"amount\" column to X axis.\n                      x: 'amount',\n                      // Map the \"product\" column to Y axis\n                      y: 'product'\n                  },\n                  barWidth: 20\n              }\n          ]\n        }\n      )\n      window.addEventListener(\"resize\",()=>{\n        this.chart2.resize();\n      })\n    },\n\n    initChart3() {\n      this.chart3 = echarts.init(this.$refs.chart3)\n      this.chart3.setOption({\n          color:[\"#23cefd\", \"#61a0a8\"],\n          series: [\n              {\n                  name: '事件类型',\n                  type: 'pie',\n                  radius: ['40%', '55%'],\n                  center: ['50%', '60%'],\n                  label: {\n                      formatter: '{b|{b}}：\\n{hr|}\\n    {d|{d}}%   ',\n                      backgroundColor: 'rgba(0,0,0,0.2)',\n                      borderColor: '#aaa',\n                      borderWidth: 1,\n                      borderRadius: 4,\n                      // padding: [2, 7],\n                      rich: {\n                          b: {\n                              // color: '#999',\n                              lineHeight: 20,\n                              align: 'center',\n                          },\n                          d: {\n                            // color: '#999',\n                            lineHeight: 20,\n                            align: 'center'\n                          },\n                          hr: {\n                              borderColor: '#aaa',\n                              width: '100%',\n                              borderWidth: 0.5,\n                              height: 0\n                          },\n                      }\n                  },\n                  data: [\n                      {value: this.disCount || 10, name: '非管控中'},\n                      {value: this.chargeCount  || 10, name: '管控中'}\n                  ]\n              }\n          ]\n        }\n      )\n      window.addEventListener(\"resize\",()=>{\n        this.chart3.resize();\n      })\n    }\n  }\n}\n</script>\n\n<style scoped lang='less'>\n  .f-width {\n    width: 100%;\n  }\n\n  .f-height {\n    height: 100%;\n  }\n\n  .abs {\n    position: absolute;\n  }\n\n  .rel {\n    position: relative;\n  }\n\n\n  .gs-home-wrapper {\n    // background:url(../../assets/img/backimage.jpg) no-repeat;\n    .bg-img {\n      width: 100%;\n      height: 100%;\n      position: absolute;\n    }\n\n    .top-title {\n      height: 10%;\n      width: 100%;\n      position: absolute;\n      display: flex;\n\n      .top-left-wrapper {\n        width: 21%;\n        height: 30%;\n        position: absolute;\n        left: 1.2vw;\n        top: 5%;\n      }\n\n      .top-right-img {\n        width: 21%;\n        height: 30%;\n        right: 1.2vw;\n        top: 5%;\n      }\n\n      .top-mid-wrapper {\n        width: 64%;\n        height: 100%;\n        position: absolute;\n        left: 18%;\n\n        .title-content {\n          font-size: 1.5vw;\n          color: #23cefd;\n          text-align: center;\n          left: 0;\n          top: 15%;\n        }\n      }\n    }\n\n    .bottom-content {\n      height: 90%;\n      bottom: 0px;\n\n      .content-left {\n        width: 25%;\n        padding: 0 20px;\n\n        .content-left-top {\n          height: 18%;\n          margin-bottom: 1.5vh;\n        }\n\n        .content-left-mid {\n          height: 49.2%;\n          margin-bottom: 1.5vh;\n\n          .event-num-wrapper {\n            height: 15%;\n            top: 17%;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            padding-right: 20px;\n\n            .event-num-words {\n              color: #23cefd;\n              font-size: 18px;\n            }\n\n            .event-num-content {\n              width: 50%;\n              height: 80%;\n              border: 1.5px solid #23cefd;\n              border-radius: 10px;\n              margin: 0 10px;\n              font-size: 2vw;\n              color: #23cefd;\n              text-align: center;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  .bm-view {\n    padding: 10px;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 3;\n  }\n\n  .form-input {\n      width: 334px;\n      margin-right: 10px;\n  }\n\n  .gs-info-window-area {\n    position: absolute;\n    width: 430px;\n    height: 40px;\n    background: rgba(53, 199, 186, 0.85);\n    z-index: 1;\n    left: 10px;\n    top: 5px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n\n    .area-wrapper {\n      height: 40px;\n      width: 100%;\n      border-bottom: 1px solid #dfe6ec;\n      color: #f3f3f3;\n      font-size: 17px;\n      padding-left: 15px;\n      line-height: 40px;\n      position: relative;\n    }\n  }\n\n  .line-info-title {\n      height: 40px;\n      border-bottom: 1px solid rgb(35 206 253);\n\n      .title-detail {\n        padding-left: 8px;\n        line-height: 40px;\n      }\n    }\n\n  .line-info-content {\n      padding: 10px;\n\n      .content-detail {\n        margin-bottom: 5px;\n      }\n  }\n\n  .com-title-wrapper {\n    height: 30px;\n    width: 65%;\n    left: 10px;\n    top: 10px;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    .com-title-content {\n      text-align: center;\n      width: 70%;\n      left: 0;\n      top: 5px;\n      color: #23cefd;\n    }\n  }\n\n  .map-select {\n    width: 70%;background: #121c35\n  }\n\n  .chart1 {\n    height:65%;\n    width:90%;\n    left: 20px;\n    bottom: 0;\n    z-index:2;\n  }\n\n  /deep/ .el-input__inner {\n    background: rgba(0,0,0,0.2);\n    border: 1px solid #0e7eb5;\n    color: #23cefd;\n  }\n\n  /deep/ .el-input__inner:hover {\n    border: 1px solid #0e7eb5 !important;\n  }\n\n  /deep/ .el-input__inner:focus {\n    border: 1px solid #0e7eb5 !important;\n  }\n\n .user_skills{\n   margin: auto;\n  }\n  .user_skills /deep/ .el-table--fit{\n      padding: 20px;\n  }\n  .user_skills /deep/  .el-table, .el-table__expanded-cell {\n      background-color: transparent;\n  }\n\n  .user_skills /deep/ .el-table tr {\n    color: #d6d2d2;\n    background-color: transparent!important;\n  }\n  .user_skills /deep/ .el-table th {\n    background-color: transparent!important;\n    color: #d6d2d2;\n    border-bottom: unset;\n  }\n  .user_skills /deep/ .el-table td {\n    color: #d6d2d2;\n    border-bottom: unset;\n  }\n  .user_skills /deep/  .el-table--enable-row-transition .el-table__body td, .el-table .cell{\n    background-color: transparent;\n  }\n  .el-table::before {//去除底部白线\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    height: 0px;\n  }\n\n  @media screen and (max-width: 1320px) {\n    .gs-info-window-area {\n      top: 70px;\n    }\n}\n</style>>\n"]}]}