{"remainingRequest":"D:\\job\\gs\\gsmon\\gsmon_web\\hzgs-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\job\\gs\\gsmon\\gsmon_web\\hzgs-admin\\src\\views\\pages\\devices\\device-gt.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\job\\gs\\gsmon\\gsmon_web\\hzgs-admin\\src\\views\\pages\\devices\\device-gt.vue","mtime":1620299676882},{"path":"D:\\job\\gs\\gsmon\\gsmon_web\\hzgs-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\job\\gs\\gsmon\\gsmon_web\\hzgs-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\job\\gs\\gsmon\\gsmon_web\\hzgs-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\job\\gs\\gsmon\\gsmon_web\\hzgs-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNyZWF0ZURldmljZUd0LCBxdWVyeURldmljZUd0LCB1cGRhdGVEZXZpY2VHdCwgZGVsRGV2aWNlR3QsIGluc2VydEd0IH0gZnJvbSAnQC9hcGkvZGV2aWNlL2RldmljZS5qcycKaW1wb3J0IHsgcXVlcnlBcmVhIH0gZnJvbSAnQC9hcGkvYXJlYS9hcmVhLmpzJwppbXBvcnQgd2F2ZXMgZnJvbSAnQC9kaXJlY3RpdmUvd2F2ZXMnIC8vIHdhdmVzIGRpcmVjdGl2ZQppbXBvcnQgeyBwYXJzZVRpbWUgfSBmcm9tICdAL3V0aWxzJwppbXBvcnQgUGFnaW5hdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvUGFnaW5hdGlvbicgLy8gc2Vjb25kYXJ5IHBhY2thZ2UgYmFzZWQgb24gZWwtcGFnaW5hdGlvbgppbXBvcnQgVGlueW1jZSBmcm9tICdAL2NvbXBvbmVudHMvVGlueW1jZScKaW1wb3J0IFVwbG9hZCBmcm9tICdAL2NvbXBvbmVudHMvVXBsb2FkL1NpbmdsZUltYWdlMycKaW1wb3J0IE1EaW5wdXQgZnJvbSAnQC9jb21wb25lbnRzL01EaW5wdXQnCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ29tcGxleFRhYmxlJywKICBjb21wb25lbnRzOiB7IFRpbnltY2UsIE1EaW5wdXQsIFBhZ2luYXRpb24gfSwKICBkaXJlY3RpdmVzOiB7IHdhdmVzIH0sCiAgZmlsdGVyczogewogICAgc3RhdHVzRmlsdGVyKHN0YXR1cykgewogICAgICBjb25zdCBzdGF0dXNNYXAgPSB7CiAgICAgICAgcHVibGlzaGVkOiAnc3VjY2VzcycsCiAgICAgICAgZHJhZnQ6ICdpbmZvJywKICAgICAgICBkZWxldGVkOiAnZGFuZ2VyJwogICAgICB9CiAgICAgIHJldHVybiBzdGF0dXNNYXBbc3RhdHVzXQogICAgfSwKICAgIHR5cGVGaWx0ZXIodHlwZSkgewogICAgICByZXR1cm4gY2FsZW5kYXJUeXBlS2V5VmFsdWVbdHlwZV0KICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJsZUtleTogMCwKICAgICAgbGlzdDogbnVsbCwKICAgICAgdG90YWw6IDAsCiAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLAogICAgICBwb3N0UnVsZXM6IHsKICAgICAgICBuYW1lOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWQjeensOS7o+WPtycsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgICBhcmVhX2lkOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeWMuuWfnycsIHRyaWdnZXI6ICdjaGFuZ2UnIH1dLAogICAgICAgIGd0X2lkOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeiuvuWkh+WPtycsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgICBsZW5ndGg6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6K6+5aSH6ZW/5bqmJywgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICAgIGxvbmdpdHVkZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXorr7lpIfnu4/luqYnLCB0cmlnZ2VyOiAnYmx1cicgfV0sCiAgICAgICAgbGF0aXR1ZGU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6K6+5aSH57qs5bqmJywgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICB9LAogICAgICBzaG93RmxhZzogMCwKICAgICAgcGFnZVR5cGU6IHsKICAgICAgICBsaXN0OiAwLAogICAgICAgIGFkZDogMSwKICAgICAgICBlZGl0OiAyLAogICAgICAgIGRldGFpbDogMwogICAgICB9LAogICAgICBxdWVyeUZvcm06IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiAxNQogICAgICB9LAogICAgICBwb3N0Rm9ybTogewogICAgICAgIGd0X2lkOiAnJywKICAgICAgICBhcmVhX2lkOiAnJywKICAgICAgICBuYW1lOiAnJywKICAgICAgICBsZW5ndGg6ICcnLAogICAgICAgIGxvbmdpdHVkZTogJycsCiAgICAgICAgbGF0aXR1ZGU6ICcnCiAgICAgIH0sCiAgICAgIGFyZWFMaXN0OiBbXSwKICAgICAgY3VycmVudFJvdzoge30sCiAgICAgIGZpbGVwYXJhbToge30sCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCkKICAgIHRoaXMuZ2V0QXJlYUxpc3QoKQogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBtZGNvbnRlbnQoKSB7CiAgICAgIGxldCBzdHIgPSB0aGlzLnBvc3RGb3JtLmd0X2lkID09ICcnID8gJ+ivt+i+k+WFpeiuvuWkh+WPtzonIDogJ+iuvuWkh+WPtzonCiAgICAgIHJldHVybiBzdHIKICAgIH0sCiAgICBoZWFkTmFtZSgpIHsKICAgICAgbGV0IHN0ciA9IHRoaXMuc2hvd0ZsYWcgPT09IHRoaXMucGFnZVR5cGUuYWRkID8gJ+aWsOWinkdU6K6+5aSHJzoKICAgICAgICB0aGlzLnNob3dGbGFnID09PSB0aGlzLnBhZ2VUeXBlLmVkaXQgPyAn57yW6L6RR1Torr7lpIcnIDogJ0dU6K6+5aSH6K+m5oOFJwoKICAgICAgcmV0dXJuIHN0cgogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W6K6+5aSH5YiX6KGo5pWw5o2uCiAgICBnZXRMaXN0KCkgewogICAgICB0aGlzLmxpc3RMb2FkaW5nID0gdHJ1ZQogICAgICBxdWVyeURldmljZUd0KHRoaXMucXVlcnlGb3JtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5yZXRjb2RlID09IDIwMCkgewogICAgICAgICAgdGhpcy5saXN0ID0gcmVzLnJlc3VsdAogICAgICAgICAgaWYgKHRoaXMubGlzdCAmJiB0aGlzLmxpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICB0aGlzLnRvdGFsID0gdGhpcy5saXN0Lmxlbmd0aAogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyBKdXN0IHRvIHNpbXVsYXRlIHRoZSB0aW1lIG9mIHRoZSByZXF1ZXN0CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2UKICAgICAgICB9LCAxICogMTAwMCkKICAgICAgfSkuY2F0Y2goZXJyID0+IHt9KQogICAgfSwKCiAgICAvLyDojrflj5bljLrln5/liJfooajmlbDmja4KICAgIGdldEFyZWFMaXN0KCkgewogICAgICBxdWVyeUFyZWEoeyBwYWdlOiAxLCBsaW1pdDogMTAwMCB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5yZXRjb2RlID09IDIwMCkgewogICAgICAgICAgdGhpcy5hcmVhTGlzdCA9IHJlcy5yZXN1bHQKICAgICAgICAgIGlmICh0aGlzLmxpc3QgJiYgdGhpcy5saXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdGhpcy50b3RhbCA9IHRoaXMubGlzdC5sZW5ndGgKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pCiAgICB9LAoKICAgIGhhbmRsZUZpbHRlcigpIHsKICAgICAgdGhpcy5nZXRMaXN0KCkKICAgIH0sCgogICAgaGFuZGxlU2hvd0ltcG9ydCgpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgfSwKCiAgICB1cGRhdGVGaWxlKGUpIHsKICAgICAgICBsZXQgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICAgIHRoaXMuZmlsZXBhcmFtID0gbmV3IEZvcm1EYXRhKCk7IC8v5Yib5bu6Zm9ybeWvueixoQogICAgICAgIHRoaXMuZmlsZXBhcmFtLmFwcGVuZCgnZXhjZWxfZmlsZScsZmlsZSk7Ly/pgJrov4dhcHBlbmTlkJFmb3Jt5a+56LGh5re75Yqg5pWw5o2uCiAgICAgICAgY29uc29sZS5sb2codGhpcy5maWxlcGFyYW0uZ2V0KCdleGNlbF9maWxlJykpOwoKICAgIH0sCgogICAgaW5zZXJ0R3QoKSB7CiAgICAgIGluc2VydEd0KHRoaXMuZmlsZXBhcmFtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5yZXRjb2RlID09IDIwMCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7IHR5cGU6ICdzdWNjZXNzJywgbWVzc2FnZTogJ+aVsOaNruWvvOWFpeaIkOWKn++8gScgfSkKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgICAgICAgfSwgNTAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7IHR5cGU6ICd3YXJuaW5nJywgbWVzc2FnZTogYOaVsOaNruWvvOWFpeWksei0pe+8gSR7cmVzLnN0YXR1c31gIH0pCiAgICAgICAgfQogICAgICB9KQogICAgfSwKCiAgICAvLyDot7Povazoh7PmlrDlop7orr7lpIfpobXpnaIKICAgIGhhbmRsZUNyZWF0ZSgpIHsKICAgICAgdGhpcy5zaG93RmxhZyA9IHRoaXMucGFnZVR5cGUuYWRkCiAgICAgIHRoaXMuY3VycmVudFJvdyA9IHt9CiAgICAgIHRoaXMuaGFuZGxlUmVzZXQoKQogICAgfSwKCiAgICAvLyDov5Tlm57liJfooajpobXpnaIKICAgIGhhbmRsZVJldHVybigpIHsKICAgICAgdGhpcy5zaG93RmxhZyA9IHRoaXMucGFnZVR5cGUubGlzdAogICAgfSwKCiAgICAvLyDph43nva7ooajljZUKICAgIGhhbmRsZVJlc2V0KCkgewogICAgICBPYmplY3Qua2V5cyh0aGlzLnBvc3RGb3JtKS5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgdGhpcy5wb3N0Rm9ybVtpdGVtXSA9IHRoaXMuY3VycmVudFJvd1tpdGVtXQogICAgICB9KQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5wb3N0Rm9ybS5yZXNldEZpZWxkcygpCiAgICAgIH0pCiAgICB9LAoKICAgIC8vIOWIm+W7ui/kv67mlLnorr7lpIfooajljZXmj5DkuqQKICAgIGhhbmRsZVN1Ym1pdCgpIHsKICAgICAgbGV0IHZhbGlkVGVtcAogICAgICB0aGlzLiRyZWZzWydwb3N0Rm9ybSddLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdmFsaWRUZW1wID0gdHJ1ZQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3Igc3VibWl0ISEnKTsKICAgICAgICAgIHZhbGlkVGVtcCA9IGZhbHNlCiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgLy8g6Iul6aqM6K+B6YCa6L+H5YiZ57un57ut6K+35rGCCiAgICAgIGlmICh2YWxpZFRlbXApIHsKICAgICAgICBpZiAodGhpcy5zaG93RmxhZyA9PT0gdGhpcy5wYWdlVHlwZS5hZGQpIHsKICAgICAgICAgIGNyZWF0ZURldmljZUd0KHRoaXMucG9zdEZvcm0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgaWYgKHJlcy5yZXRjb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsgdHlwZTogJ3N1Y2Nlc3MnLCBtZXNzYWdlOiAn5o+Q5Lqk5oiQ5Yqf77yBJ30pCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7IHR5cGU6ICd3YXJuaW5nJywgbWVzc2FnZTogcmVzLnN0YXR1cyB9KQogICAgICAgICAgICB9CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIHRoaXMuc2hvd0ZsYWcgPSB0aGlzLnBhZ2VUeXBlLmxpc3QKICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKQogICAgICAgICAgICB9LCA1MDApCiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5zaG93RmxhZyA9PT0gdGhpcy5wYWdlVHlwZS5lZGl0KSB7CiAgICAgICAgICB1cGRhdGVEZXZpY2VHdCh0aGlzLnBvc3RGb3JtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGlmIChyZXMucmV0Y29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7IHR5cGU6ICdzdWNjZXNzJywgbWVzc2FnZTogJ+aPkOS6pOaIkOWKn++8gSd9KQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoeyB0eXBlOiAnd2FybmluZycsIG1lc3NhZ2U6IHJlcy5zdGF0dXMgfSkKICAgICAgICAgICAgfQogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLnNob3dGbGFnID0gdGhpcy5wYWdlVHlwZS5saXN0CiAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICAgICAgfSwgNTAwKQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgLy8g6Lez6L2s6Iez57yW6L6R6aG16Z2iCiAgICBoYW5kbGVVcGRhdGUocm93KSB7CiAgICAgIHRoaXMuc2hvd0ZsYWcgPSB0aGlzLnBhZ2VUeXBlLmVkaXQKICAgICAgdGhpcy5jdXJyZW50Um93ID0gcm93CiAgICAgIE9iamVjdC5rZXlzKHRoaXMucG9zdEZvcm0pLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgdGhpcy5wb3N0Rm9ybVtpdGVtXSA9IHJvd1tpdGVtXQogICAgICB9KQogICAgfSwKCiAgICAvLyDot7Povazoh7Por6bmg4XpobXpnaIKICAgIGhhbmRsZURldGFpbChyb3cpIHsKICAgICAgdGhpcy5zaG93RmxhZyA9IHRoaXMucGFnZVR5cGUuZGV0YWlsCiAgICAgIE9iamVjdC5rZXlzKHRoaXMucG9zdEZvcm0pLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgdGhpcy5wb3N0Rm9ybVtpdGVtXSA9IHJvd1tpdGVtXQogICAgICB9KQogICAgfSwKCiAgICBoYW5kbGVEZWxldGUocm93KSB7CiAgICAgIGxldCBwYXJhbXMgPSB7fQogICAgICBwYXJhbXMuZ3RfaWQgPSByb3cuZ3RfaWQKICAgICAgdGhpcy4kY29uZmlybSgn6K6+5aSH5Yig6Zmk5ZCO5bCG5LiN5Y+v5oGi5aSN77yM56Gu6K6k5Yig6Zmk6K+l6K6+5aSH77yfJywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+WIoOmZpCcsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIGRlbERldmljZUd0KHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5yZXRjb2RlID09PSAyMDApIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7IHR5cGU6ICdzdWNjZXNzJywgbWVzc2FnZTogJ+WIoOmZpOaIkOWKn++8gScgfSkKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICAgICAgfSwgMjAwKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoeyB0eXBlOiAnd2FybmluZycsIG1lc3NhZ2U6IGDliKDpmaTlpLHotKXvvIEke3Jlcy5zdGF0dXN9YCB9KQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["device-gt.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"device-gt.vue","sourceRoot":"src/views/pages/devices","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div v-if=\"showFlag === pageType.list\">\n      <div class=\"filter-container\">\n        <el-input clearable placeholder=\"设备号/区域/设备代号\" style=\"width: 300px;margin-right: 10px;\" class=\"filter-item\" @keyup.enter.native=\"handleFilter\" />\n        <el-button class=\"filter-item\" style=\"margin-left: 10px;float:right;margin-right: 10px;\" type=\"primary\" icon=\"el-icon-edit\" @click=\"handleCreate\">\n          {{ $t('table.add') }}\n        </el-button>\n        <el-button v-waves class=\"filter-item\" style=\"float: right;\" type=\"primary\" icon=\"el-icon-search\" @click=\"handleFilter\">\n          {{ $t('table.search') }}\n        </el-button>\n        <!-- <el-button class=\"filter-item\" style=\"margin-left: 10px;float:right;\" type=\"primary\" icon=\"el-icon-edit\" @click=\"handleShowImport\">\n          数据导入\n        </el-button> -->\n      </div>\n\n      <el-table\n        :key=\"tableKey\"\n        v-loading=\"listLoading\"\n        :data=\"list\"\n        border\n        fit\n        highlight-current-row\n        style=\"width: 100%;\"\n      >\n        <el-table-column label=\"ID\" type=\"index\" align=\"center\" width=\"80\">\n        </el-table-column>\n        <el-table-column label=\"设备号\" min-width=\"150px\" align=\"center\" prop=\"gt_id\">\n        </el-table-column>\n        <el-table-column label=\"名称代号\" min-width=\"150px\" align=\"center\" prop=\"name\">\n        </el-table-column>\n        <el-table-column label=\"设备长度\" min-width=\"150px\" align=\"center\" prop=\"length\">\n        </el-table-column>\n        <el-table-column label=\"设备GPS经度\" min-width=\"120px\" align=\"center\" prop=\"longitude\">\n        </el-table-column>\n        <el-table-column label=\"设备GPS纬度\" min-width=\"120px\" align=\"center\" prop=\"latitude\">\n        </el-table-column>\n        <el-table-column label=\"设备所属区域\" min-width=\"200px\" align=\"center\" prop=\"area_name\">\n        </el-table-column>\n        <el-table-column fixed=\"right\" :label=\"$t('table.actions')\" align=\"center\" width=\"220\" class-name=\"small-padding fixed-width\">\n          <template slot-scope=\"{row,$index}\">\n            <el-button type=\"primary\" size=\"mini\" @click=\"handleUpdate(row)\">\n              {{ $t('table.edit') }}\n            </el-button>\n            <el-button type=\"primary\" size=\"mini\" @click=\"handleDetail(row)\">\n              详情\n            </el-button>\n            <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(row,$index)\">\n              {{ $t('table.delete') }}\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"queryForm.page\" :limit.sync=\"queryForm.limit\" @pagination=\"getList\" />\n    </div>\n\n    <div v-else-if=\"showFlag === pageType.add || showFlag === pageType.edit || showFlag === pageType.detail\">\n      <div class=\"filter-container formBar\">\n        <div class=\"form-head\">\n          {{headName}}\n        </div>\n        <el-button class=\"filter-item\" style=\"margin-left: 10px;float:right;margin-right: 10px;\" type=\"primary\" icon=\"el-icon-back\" @click=\"handleReturn\">\n          返回\n        </el-button>\n        <el-button v-if=\"showFlag !== pageType.detail\" class=\"filter-item\" style=\"margin-left: 10px;float:right;\" type=\"primary\" icon=\"el-icon-refresh-right\" @click=\"handleReset\">\n          重置\n        </el-button>\n        <el-button v-if=\"showFlag !== pageType.detail\" v-waves class=\"filter-item\" style=\"float: right;\" type=\"primary\" icon=\"el-icon-document-checked\" @click=\"handleSubmit\">\n          提交\n        </el-button>\n      </div>\n      <el-form ref=\"postForm\" :model=\"postForm\" :rules=\"postRules\" class=\"form-container\">\n        <div class=\"createPost-main-container\">\n          <el-row>\n            <el-col :span=\"24\" class=\"form-wrapper\">\n              <el-row class=\"fit-padding\" >\n                <el-col :span=\"18\">\n                  <el-form-item class=\"md-input\" prop=\"gt_id\">\n                    <MDinput v-model=\"postForm.gt_id\" :maxlength=\"100\" name=\"name\" required :disabled=\"showFlag !== pageType.add\">\n                      {{mdcontent}}\n                    </MDinput>\n                  </el-form-item>\n                </el-col>\n                <el-col :span=\"6\"></el-col>\n              </el-row>\n              <div class=\"postInfo-container fit-padding\" >\n                <el-row>\n                  <el-col :span=\"8\">\n                    <el-form-item label-width=\"90px\" label=\"名称代号:\" class=\"postInfo-container-item\" prop=\"name\">\n                      <el-input placeholder=\"请输入名称代号\" v-model=\"postForm.name\" style=\"min-width: 120px;\" clearable :disabled=\"showFlag === pageType.detail\"></el-input>\n                    </el-form-item>\n                  </el-col>\n\n                  <el-col :span=\"10\">\n                    <el-form-item label-width=\"120px\" label=\"选择区域:\" class=\"postInfo-container-item\" prop=\"area_id\">\n                      <el-select v-model=\"postForm.area_id\" style=\"width: 100%;\" filterable default-first-option placeholder=\"请选择区域\" :disabled=\"showFlag === pageType.detail\">\n                        <el-option v-for=\"(item,index) in areaList\" :key=\"item.area_id+index\" :label=\"item.area_name\" :value=\"item.area_id\" />\n                      </el-select>\n                    </el-form-item>\n                  </el-col>\n\n                  <el-col :span=\"6\" style=\"min-height: 1px;\">\n                  </el-col>\n                </el-row>\n                <el-row>\n                  <el-col :span=\"8\">\n                    <el-form-item label-width=\"90px\" label=\"设备长度:\" class=\"postInfo-container-item\" prop=\"length\">\n                      <el-input placeholder=\"请输入设备长度\" v-model=\"postForm.length\" :disabled=\"showFlag === pageType.detail\" clearable></el-input>\n                    </el-form-item>\n                  </el-col>\n\n                  <el-col :span=\"10\">\n                    <el-form-item label-width=\"120px\" label=\"GPS信息:\" class=\"postInfo-container-item\">\n                      <el-form-item label-width=\"0px\" style=\"display: inline-block;min-width:125px;width: 49%;margin-right: 2%;\" prop=\"longitude\">\n                        <el-input v-model=\"postForm.longitude\" clearable :disabled=\"showFlag === pageType.detail\" placeholder=\"请输入经度\" style=\"display: inline-block;\"></el-input>\n                      </el-form-item>\n                      <el-form-item label-width=\"0px\" style=\"display: inline-block;min-width:125px;width: 49%;\" prop=\"latitude\">   \n                        <el-input v-model=\"postForm.latitude\" clearable  :disabled=\"showFlag === pageType.detail\" placeholder=\"请输入纬度\" style=\"display: inline-block;\"></el-input>\n                      </el-form-item>\n                    </el-form-item>\n                  </el-col>\n\n                  <el-col :span=\"6\" style=\"min-height: 1px;\">\n                  </el-col>\n                </el-row>\n              </div>\n            </el-col>\n          </el-row>\n        </div>\n      </el-form>\n    </div>\n    <el-dialog\n      title=\"数据导入\"\n      :visible.sync=\"dialogVisible\"\n      width=\"30%\">\n      <input type=\"file\" @change=\"updateFile\" accept=\"application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\">\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"insertGt\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { createDeviceGt, queryDeviceGt, updateDeviceGt, delDeviceGt, insertGt } from '@/api/device/device.js'\nimport { queryArea } from '@/api/area/area.js'\nimport waves from '@/directive/waves' // waves directive\nimport { parseTime } from '@/utils'\nimport Pagination from '@/components/Pagination' // secondary package based on el-pagination\nimport Tinymce from '@/components/Tinymce'\nimport Upload from '@/components/Upload/SingleImage3'\nimport MDinput from '@/components/MDinput'\nimport axios from 'axios'\n\nexport default {\n  name: 'ComplexTable',\n  components: { Tinymce, MDinput, Pagination },\n  directives: { waves },\n  filters: {\n    statusFilter(status) {\n      const statusMap = {\n        published: 'success',\n        draft: 'info',\n        deleted: 'danger'\n      }\n      return statusMap[status]\n    },\n    typeFilter(type) {\n      return calendarTypeKeyValue[type]\n    }\n  },\n  data() {\n    return {\n      tableKey: 0,\n      list: null,\n      total: 0,\n      listLoading: true,\n      postRules: {\n        name: [{ required: true, message: '请输入名称代号', trigger: 'blur' }],\n        area_id: [{ required: true, message: '请选择区域', trigger: 'change' }],\n        gt_id: [{ required: true, message: '请输入设备号', trigger: 'blur' }],\n        length: [{ required: true, message: '请输入设备长度', trigger: 'blur' }],\n        longitude: [{ required: true, message: '请输入设备经度', trigger: 'blur' }],\n        latitude: [{ required: true, message: '请输入设备纬度', trigger: 'blur' }],\n      },\n      showFlag: 0,\n      pageType: {\n        list: 0,\n        add: 1,\n        edit: 2,\n        detail: 3\n      },\n      queryForm: {\n        page: 1,\n        limit: 15\n      },\n      postForm: {\n        gt_id: '',\n        area_id: '',\n        name: '',\n        length: '',\n        longitude: '',\n        latitude: ''\n      },\n      areaList: [],\n      currentRow: {},\n      fileparam: {},\n      dialogVisible: false\n    }\n  },\n  created() {\n    this.getList()\n    this.getAreaList()\n  },\n\n  computed: {\n    mdcontent() {\n      let str = this.postForm.gt_id == '' ? '请输入设备号:' : '设备号:'\n      return str\n    },\n    headName() {\n      let str = this.showFlag === this.pageType.add ? '新增GT设备':\n        this.showFlag === this.pageType.edit ? '编辑GT设备' : 'GT设备详情'\n\n      return str\n    }\n  },\n  methods: {\n    // 获取设备列表数据\n    getList() {\n      this.listLoading = true\n      queryDeviceGt(this.queryForm).then(res => {\n        if (res.retcode == 200) {\n          this.list = res.result\n          if (this.list && this.list.length > 0) {\n            this.total = this.list.length\n          }\n        }\n        // Just to simulate the time of the request\n        setTimeout(() => {\n          this.listLoading = false\n        }, 1 * 1000)\n      }).catch(err => {})\n    },\n\n    // 获取区域列表数据\n    getAreaList() {\n      queryArea({ page: 1, limit: 1000 }).then(res => {\n        if (res.retcode == 200) {\n          this.areaList = res.result\n          if (this.list && this.list.length > 0) {\n            this.total = this.list.length\n          }\n        }\n      })\n    },\n\n    handleFilter() {\n      this.getList()\n    },\n\n    handleShowImport() {\n      this.dialogVisible = true\n    },\n\n    updateFile(e) {\n        let file = e.target.files[0];\n        this.fileparam = new FormData(); //创建form对象\n        this.fileparam.append('excel_file',file);//通过append向form对象添加数据\n        console.log(this.fileparam.get('excel_file'));\n\n    },\n\n    insertGt() {\n      insertGt(this.fileparam).then(res => {\n        if (res.retcode == 200) {\n          this.$message({ type: 'success', message: '数据导入成功！' })\n          setTimeout(() => {\n            this.dialogVisible = false\n          }, 500);\n        } else {\n          this.$message({ type: 'warning', message: `数据导入失败！${res.status}` })\n        }\n      })\n    },\n\n    // 跳转至新增设备页面\n    handleCreate() {\n      this.showFlag = this.pageType.add\n      this.currentRow = {}\n      this.handleReset()\n    },\n\n    // 返回列表页面\n    handleReturn() {\n      this.showFlag = this.pageType.list\n    },\n\n    // 重置表单\n    handleReset() {\n      Object.keys(this.postForm).forEach((item) => {\n        this.postForm[item] = this.currentRow[item]\n      })\n      this.$nextTick(() => {\n        this.$refs.postForm.resetFields()\n      })\n    },\n\n    // 创建/修改设备表单提交\n    handleSubmit() {\n      let validTemp\n      this.$refs['postForm'].validate((valid) => {\n        if (valid) {\n          validTemp = true\n        } else {\n          console.log('error submit!!');\n          validTemp = false\n          return false;\n        }\n      });\n      // 若验证通过则继续请求\n      if (validTemp) {\n        if (this.showFlag === this.pageType.add) {\n          createDeviceGt(this.postForm).then(res => {\n            if (res.retcode === 200) {\n              this.$message({ type: 'success', message: '提交成功！'})\n            } else {\n              this.$message({ type: 'warning', message: res.status })\n            }\n            setTimeout(() => {\n              this.showFlag = this.pageType.list\n              this.getList()\n            }, 500)\n          })\n        } else if (this.showFlag === this.pageType.edit) {\n          updateDeviceGt(this.postForm).then(res => {\n            if (res.retcode === 200) {\n              this.$message({ type: 'success', message: '提交成功！'})\n            } else {\n              this.$message({ type: 'warning', message: res.status })\n            }\n            setTimeout(() => {\n              this.showFlag = this.pageType.list\n              this.getList()\n            }, 500)\n          })\n        }\n      }\n    },\n\n    // 跳转至编辑页面\n    handleUpdate(row) {\n      this.showFlag = this.pageType.edit\n      this.currentRow = row\n      Object.keys(this.postForm).forEach(item => {\n        this.postForm[item] = row[item]\n      })\n    },\n\n    // 跳转至详情页面\n    handleDetail(row) {\n      this.showFlag = this.pageType.detail\n      Object.keys(this.postForm).forEach(item => {\n        this.postForm[item] = row[item]\n      })\n    },\n\n    handleDelete(row) {\n      let params = {}\n      params.gt_id = row.gt_id\n      this.$confirm('设备删除后将不可恢复，确认删除该设备？', '提示', {\n        confirmButtonText: '删除',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        delDeviceGt(params).then(res => {\n          if (res.retcode === 200) {\n            this.$message({ type: 'success', message: '删除成功！' })\n            setTimeout(() => {\n              this.getList()\n            }, 200);\n          } else {\n            this.$message({ type: 'warning', message: `删除失败！${res.status}` })\n          }\n        })\n      }).catch(err => {\n        console.log(err)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .app-container {\n    min-width: 800px;\n    overflow: auto;\n  }\n\n  .form-container {\n    margin-left: 40px;\n    margin-right: 10px;\n    margin-top: 30px;\n  }\n\n  .formBar {\n    border-bottom: 1px solid #dfe6ec;\n    overflow: hidden;\n\n    .filter-item {\n      margin-bottom: 0;\n    }\n\n    .form-head {\n      font-size: 20px;\n      margin-top: 10px;\n      margin-left: 6px;\n      color: #666;\n      display: inline-block;\n    }\n  }\n\n  .postInfo-container-item {\n    min-width: 250px;\n  }\n\n  .form-wrapper {\n    border: 1px solid #dfe6ec;\n    padding-top: 30px;\n    border-radius: 5px;\n  }\n\n  .md-input {\n    margin-bottom: 20px;\n    margin-top: -40px;\n    margin-left: 15px;\n  }\n\n  .fit-padding {\n    padding-left: 10px;\n  }\n</style>\n"]}]}