{"remainingRequest":"D:\\hzgs-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\hzgs-admin\\src\\views\\pages\\lines\\line.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\hzgs-admin\\src\\views\\pages\\lines\\line.vue","mtime":1620299676719},{"path":"D:\\hzgs-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\hzgs-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\hzgs-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\hzgs-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNyZWF0ZUxpbmUsIHF1ZXJ5TGluZSwgdXBkYXRlTGluZSwgZGVsTGluZSwgaW5zZXJ0Wm9uZXMgfSBmcm9tICdAL2FwaS9saW5lL2xpbmUuanMnCmltcG9ydCB7IHBhcnNlVGltZSB9IGZyb20gJ0AvdXRpbHMnCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9QYWdpbmF0aW9uJyAvLyBzZWNvbmRhcnkgcGFja2FnZSBiYXNlZCBvbiBlbC1wYWdpbmF0aW9uCmltcG9ydCBUaW55bWNlIGZyb20gJ0AvY29tcG9uZW50cy9UaW55bWNlJwppbXBvcnQgVXBsb2FkIGZyb20gJ0AvY29tcG9uZW50cy9VcGxvYWQvU2luZ2xlSW1hZ2UzJwppbXBvcnQgTURpbnB1dCBmcm9tICdAL2NvbXBvbmVudHMvTURpbnB1dCcKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDb21wbGV4VGFibGUnLAogIGNvbXBvbmVudHM6IHsgVGlueW1jZSwgTURpbnB1dCwgUGFnaW5hdGlvbiB9LAogIGZpbHRlcnM6IHsKICAgIHN0YXR1c0ZpbHRlcihzdGF0dXMpIHsKICAgICAgY29uc3Qgc3RhdHVzTWFwID0gewogICAgICAgIHB1Ymxpc2hlZDogJ3N1Y2Nlc3MnLAogICAgICAgIGRyYWZ0OiAnaW5mbycsCiAgICAgICAgZGVsZXRlZDogJ2RhbmdlcicKICAgICAgfQogICAgICByZXR1cm4gc3RhdHVzTWFwW3N0YXR1c10KICAgIH0sCiAgICB0eXBlRmlsdGVyKHR5cGUpIHsKICAgICAgcmV0dXJuIGNhbGVuZGFyVHlwZUtleVZhbHVlW3R5cGVdCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVLZXk6IDAsCiAgICAgIGxpc3Q6IG51bGwsCiAgICAgIHRvdGFsOiAwLAogICAgICBsaXN0TG9hZGluZzogdHJ1ZSwKICAgICAgcG9zdFJ1bGVzOiB7CiAgICAgICAgem9uZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXnur/ot69JRCcsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgICBuYW1lOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpee6v+i3r+WQjeensCcsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgICBoZWFkMTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXotKPku7vkurrkuIAnLCB0cmlnZ2VyOiAnYmx1cicgfV0sCiAgICAgICAgcGhvbmUxOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeiBlOezu+eUteivneS4gCcsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgICBoZWFkMjogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXotKPku7vkurrkuownLCB0cmlnZ2VyOiAnYmx1cicgfV0sCiAgICAgICAgcGhvbmUyOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeiBlOezu+eUteivneS6jCcsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgfSwKICAgICAgc2hvd0ZsYWc6IDAsCiAgICAgIHBhZ2VUeXBlOiB7CiAgICAgICAgbGlzdDogMCwKICAgICAgICBhZGQ6IDEsCiAgICAgICAgZWRpdDogMiwKICAgICAgICBkZXRhaWw6IDMKICAgICAgfSwKICAgICAgcXVlcnlGb3JtOiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMTUsCiAgICAgICAga2V5d29yZDogJycKICAgICAgfSwKICAgICAgcG9zdEZvcm06IHsKICAgICAgICB6b25lOiAnJywKICAgICAgICBuYW1lOiAnJywKICAgICAgICBoZWFkMTogJycsCiAgICAgICAgcGhvbmUxOiAnJywKICAgICAgICBoZWFkMjogJycsCiAgICAgICAgcGhvbmUyOiAnJwogICAgICB9LAogICAgICBhcmVhTGlzdDogW10sCiAgICAgIGN1cnJlbnRSb3c6IHt9LAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZmlsZXBhcmFtOiB7fQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpCiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIG1kY29udGVudCgpIHsKICAgICAgbGV0IHN0ciA9IHRoaXMucG9zdEZvcm0uYXJlYV9pZCA9PSAnJyA/ICfor7fovpPlhaXnur/ot69JRCjoh7PlpJo05L2NKTonIDogJ+e6v+i3r0lEOicKICAgICAgcmV0dXJuIHN0cgogICAgfSwKICAgIGhlYWROYW1lKCkgewogICAgICBsZXQgc3RyID0gdGhpcy5zaG93RmxhZyA9PT0gdGhpcy5wYWdlVHlwZS5hZGQgPyAn5paw5aKe57q/6LevJzoKICAgICAgICB0aGlzLnNob3dGbGFnID09PSB0aGlzLnBhZ2VUeXBlLmVkaXQgPyAn57yW6L6R57q/6LevJyA6ICfnur/ot6/or6bmg4UnCgogICAgICByZXR1cm4gc3RyCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5borr7lpIfliJfooajmlbDmja4KICAgIGdldExpc3QoKSB7CiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlCiAgICAgIHF1ZXJ5TGluZSh0aGlzLnF1ZXJ5Rm9ybSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMucmV0Y29kZSA9PSAyMDApIHsKICAgICAgICAgIHRoaXMubGlzdCA9IHJlcy5yZXN1bHQKICAgICAgICAgIGlmICh0aGlzLmxpc3QgJiYgdGhpcy5saXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdGhpcy50b3RhbCA9IHRoaXMubGlzdC5sZW5ndGgKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLy8gSnVzdCB0byBzaW11bGF0ZSB0aGUgdGltZSBvZiB0aGUgcmVxdWVzdAogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlCiAgICAgICAgfSwgMSAqIDEwMDApCiAgICAgIH0pCiAgICB9LAoKICAgIGhhbmRsZUZpbHRlcigpIHsKICAgICAgdGhpcy5nZXRMaXN0KCkKICAgIH0sCgogICAgaGFuZGxlU2hvd0ltcG9ydCgpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgfSwKCiAgICB1cGRhdGVGaWxlKGUpIHsKICAgICAgICBsZXQgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICAgIHRoaXMuZmlsZXBhcmFtID0gbmV3IEZvcm1EYXRhKCk7IC8v5Yib5bu6Zm9ybeWvueixoQogICAgICAgIHRoaXMuZmlsZXBhcmFtLmFwcGVuZCgnZXhjZWxfZmlsZScsZmlsZSk7Ly/pgJrov4dhcHBlbmTlkJFmb3Jt5a+56LGh5re75Yqg5pWw5o2uCiAgICAgICAgY29uc29sZS5sb2codGhpcy5maWxlcGFyYW0uZ2V0KCdleGNlbF9maWxlJykpOwoKICAgIH0sCgogICAgaW5zZXJ0Wm9uZXMoKSB7CiAgICAgIGluc2VydFpvbmVzKHRoaXMuZmlsZXBhcmFtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5yZXRjb2RlID09IDIwMCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7IHR5cGU6ICdzdWNjZXNzJywgbWVzc2FnZTogJ+aVsOaNruWvvOWFpeaIkOWKn++8gScgfSkKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgICAgICAgfSwgNTAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7IHR5cGU6ICd3YXJuaW5nJywgbWVzc2FnZTogYOaVsOaNruWvvOWFpeWksei0pe+8gSR7cmVzLnN0YXR1c31gIH0pCiAgICAgICAgfQogICAgICB9KQogICAgfSwKCiAgICAvLyDot7Povazoh7PmlrDlop7orr7lpIfpobXpnaIKICAgIGhhbmRsZUNyZWF0ZSgpIHsKICAgICAgdGhpcy5zaG93RmxhZyA9IHRoaXMucGFnZVR5cGUuYWRkCiAgICAgIHRoaXMuY3VycmVudFJvdyA9IHt9CiAgICAgIHRoaXMuaGFuZGxlUmVzZXQoKQogICAgfSwKCiAgICAvLyDov5Tlm57liJfooajpobXpnaIKICAgIGhhbmRsZVJldHVybigpIHsKICAgICAgdGhpcy5zaG93RmxhZyA9IHRoaXMucGFnZVR5cGUubGlzdAogICAgfSwKCiAgICAvLyDph43nva7ooajljZUKICAgIGhhbmRsZVJlc2V0KCkgewogICAgICBPYmplY3Qua2V5cyh0aGlzLnBvc3RGb3JtKS5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgdGhpcy5wb3N0Rm9ybVtpdGVtXSA9IHRoaXMuY3VycmVudFJvd1tpdGVtXQogICAgICB9KQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5wb3N0Rm9ybS5yZXNldEZpZWxkcygpCiAgICAgIH0pCiAgICB9LAoKICAgIC8vIOWIm+W7ui/kv67mlLnorr7lpIfooajljZXmj5DkuqQKICAgIGhhbmRsZVN1Ym1pdCgpIHsKICAgICAgbGV0IHZhbGlkVGVtcAogICAgICB0aGlzLiRyZWZzWydwb3N0Rm9ybSddLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdmFsaWRUZW1wID0gdHJ1ZQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3Igc3VibWl0ISEnKTsKICAgICAgICAgIHZhbGlkVGVtcCA9IGZhbHNlCiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgLy8g6Iul6aqM6K+B6YCa6L+H5YiZ57un57ut6K+35rGCCiAgICAgIGlmICh2YWxpZFRlbXApIHsKICAgICAgICBpZiAodGhpcy5zaG93RmxhZyA9PT0gdGhpcy5wYWdlVHlwZS5hZGQpIHsKICAgICAgICAgIGNyZWF0ZUxpbmUodGhpcy5wb3N0Rm9ybSkudGhlbihyZXMgPT4gewogICAgICAgICAgICBpZiAocmVzLnJldGNvZGUgPT09IDIwMCB8fCByZXMuc3RhdHVzID09PSAnc3VjY2VzcycpIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsgdHlwZTogJ3N1Y2Nlc3MnLCBtZXNzYWdlOiAn5o+Q5Lqk5oiQ5Yqf77yBJ30pCiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnNob3dGbGFnID0gdGhpcy5wYWdlVHlwZS5saXN0CiAgICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKQogICAgICAgICAgICAgIH0sIDUwMCkKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2hvd0ZsYWcgPT09IHRoaXMucGFnZVR5cGUuZWRpdCkgewogICAgICAgICAgdXBkYXRlTGluZSh0aGlzLnBvc3RGb3JtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGlmIChyZXMucmV0Y29kZSA9PT0gMjAwIHx8IHJlcy5zdGF0dXMgPT09ICdzdWNjZXNzJykgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoeyB0eXBlOiAnc3VjY2VzcycsIG1lc3NhZ2U6ICfmj5DkuqTmiJDlip/vvIEnfSkKICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuc2hvd0ZsYWcgPSB0aGlzLnBhZ2VUeXBlLmxpc3QKICAgICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICAgICAgICAgICAgfSwgNTAwKQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICAvLyDot7Povazoh7PnvJbovpHpobXpnaIKICAgIGhhbmRsZVVwZGF0ZShyb3cpIHsKICAgICAgdGhpcy5zaG93RmxhZyA9IHRoaXMucGFnZVR5cGUuZWRpdAogICAgICB0aGlzLmN1cnJlbnRSb3cgPSByb3cKICAgICAgT2JqZWN0LmtleXModGhpcy5wb3N0Rm9ybSkuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICB0aGlzLnBvc3RGb3JtW2l0ZW1dID0gcm93W2l0ZW1dCiAgICAgIH0pCiAgICB9LAoKICAgIC8vIOi3s+i9rOiHs+ivpuaDhemhtemdogogICAgaGFuZGxlRGV0YWlsKHJvdykgewogICAgICB0aGlzLnNob3dGbGFnID0gdGhpcy5wYWdlVHlwZS5kZXRhaWwKICAgICAgT2JqZWN0LmtleXModGhpcy5wb3N0Rm9ybSkuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICB0aGlzLnBvc3RGb3JtW2l0ZW1dID0gcm93W2l0ZW1dCiAgICAgIH0pCiAgICB9LAoKICAgIGhhbmRsZURlbGV0ZShyb3cpIHsKICAgICAgbGV0IHBhcmFtcyA9IHt9CiAgICAgIHBhcmFtcy56b25lID0gcm93LnpvbmUKICAgICAgdGhpcy4kY29uZmlybSgn57q/6Lev5Yig6Zmk5ZCO5bCG5LiN5Y+v5oGi5aSN77yM56Gu6K6k5Yig6Zmk6K+l57q/6Lev77yfJywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+WIoOmZpCcsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIGRlbExpbmUocGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLnJldGNvZGUgPT09IDIwMCkgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsgdHlwZTogJ3N1Y2Nlc3MnLCBtZXNzYWdlOiAn5Yig6Zmk5oiQ5Yqf77yBJyB9KQogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKQogICAgICAgICAgICB9LCAyMDApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7IHR5cGU6ICd3YXJuaW5nJywgbWVzc2FnZTogYOWIoOmZpOWksei0pe+8gSR7cmVzLnN0YXR1c31gIH0pCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["line.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"line.vue","sourceRoot":"src/views/pages/lines","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div v-if=\"showFlag === pageType.list\">\n      <div class=\"filter-container\">\n        <el-input v-model=\"queryForm.keyword\" clearable placeholder=\"线路ID/线路名称\" style=\"width: 300px;margin-right: 10px;\" class=\"filter-item\" @keyup.enter.native=\"handleFilter\" />\n        <el-button class=\"filter-item\" style=\"margin-left: 10px;float:right;margin-right: 10px;\" type=\"primary\" icon=\"el-icon-edit\" @click=\"handleCreate\">\n          {{ $t('table.add') }}\n        </el-button>\n        <el-button class=\"filter-item\" style=\"float: right;\" type=\"primary\" icon=\"el-icon-search\" @click=\"handleFilter\">\n          {{ $t('table.search') }}\n        </el-button>\n        <!-- <el-button class=\"filter-item\" style=\"margin-left: 10px;float:right;\" type=\"primary\" icon=\"el-icon-edit\" @click=\"handleShowImport\">\n          数据导入\n        </el-button> -->\n      </div>\n\n      <el-table\n        :key=\"tableKey\"\n        v-loading=\"listLoading\"\n        :data=\"list\"\n        border\n        fit\n        highlight-current-row\n        style=\"width: 100%;\"\n      >\n        <el-table-column label=\"序号\" type=\"index\" align=\"center\" width=\"80\">\n        </el-table-column>\n        <el-table-column label=\"线路ID\" min-width=\"180px\" align=\"center\" prop=\"zone\">\n        </el-table-column>\n        <el-table-column label=\"线路名称\" min-width=\"180px\" align=\"center\" prop=\"name\">\n        </el-table-column>\n        <el-table-column label=\"责任人一\" min-width=\"180px\" align=\"center\" prop=\"head1\">\n        </el-table-column>\n        <el-table-column label=\"联系电话一\" min-width=\"180px\" align=\"center\" prop=\"phone1\">\n        </el-table-column>\n        <el-table-column label=\"责任人二\" min-width=\"180px\" align=\"center\" prop=\"head2\">\n        </el-table-column>\n        <el-table-column label=\"联系电话二\" min-width=\"180px\" align=\"center\" prop=\"phone2\">\n        </el-table-column>\n        <el-table-column fixed=\"right\" :label=\"$t('table.actions')\" align=\"center\" width=\"220\" class-name=\"small-padding fixed-width\">\n          <template slot-scope=\"{row,$index}\">\n            <el-button type=\"primary\" size=\"mini\" @click=\"handleUpdate(row)\">\n              {{ $t('table.edit') }}\n            </el-button>\n            <el-button type=\"primary\" size=\"mini\" @click=\"handleDetail(row)\">\n              详情\n            </el-button>\n            <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(row,$index)\">\n              {{ $t('table.delete') }}\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"queryForm.page\" :limit.sync=\"queryForm.limit\" @pagination=\"getList\" />\n    </div>\n\n    <div v-else-if=\"showFlag === pageType.add || showFlag === pageType.edit || showFlag === pageType.detail\">\n      <div class=\"filter-container formBar\">\n        <div class=\"form-head\">\n          {{headName}}\n        </div>\n        <el-button class=\"filter-item\" style=\"margin-left: 10px;float:right;margin-right: 10px;\" type=\"primary\" icon=\"el-icon-back\" @click=\"handleReturn\">\n          返回\n        </el-button>\n        <el-button v-if=\"showFlag !== pageType.detail\" class=\"filter-item\" style=\"margin-left: 10px;float:right;\" type=\"primary\" icon=\"el-icon-refresh-right\" @click=\"handleReset\">\n          重置\n        </el-button>\n        <el-button v-if=\"showFlag !== pageType.detail\" class=\"filter-item\" style=\"float: right;\" type=\"primary\" icon=\"el-icon-document-checked\" @click=\"handleSubmit\">\n          提交\n        </el-button>\n      </div>\n      <el-form ref=\"postForm\" :model=\"postForm\" :rules=\"postRules\" class=\"form-container\">\n        <div class=\"createPost-main-container\">\n          <el-row>\n            <el-col :span=\"24\" class=\"form-wrapper\">\n              <el-row class=\"fit-padding\" >\n                <el-col :span=\"18\">\n                  <el-form-item class=\"md-input\" prop=\"zone\">\n                    <MDinput v-model=\"postForm.zone\" :maxlength=\"4\" name=\"name\" required :disabled=\"showFlag !== pageType.add\">\n                      {{mdcontent}}\n                    </MDinput>\n                  </el-form-item>\n                </el-col>\n                <el-col :span=\"6\"></el-col>\n              </el-row>\n              <div class=\"postInfo-container fit-padding\" >\n                <el-row>\n                  <el-col :span=\"18\">\n                    <el-form-item label-width=\"120px\" label=\"线路名称:\" class=\"postInfo-container-item\" prop=\"name\">\n                      <el-input placeholder=\"请输入线路名称\" v-model=\"postForm.name\" style=\"min-width: 120px;\" clearable :disabled=\"showFlag === pageType.detail\"></el-input>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :span=\"6\" style=\"min-height: 1px;\">\n                  </el-col>\n                </el-row>\n                <el-row>\n                  <el-col :span=\"8\">\n                    <el-form-item label-width=\"120px\" label=\"责任人一:\" class=\"postInfo-container-item\" prop=\"head1\">\n                      <el-input placeholder=\"请输入责任人一\" v-model=\"postForm.head1\" :disabled=\"showFlag === pageType.detail\" clearable></el-input>\n                    </el-form-item>\n                  </el-col>\n\n                  <el-col :span=\"10\">\n                    <el-form-item label-width=\"120px\" label=\"联系电话一:\" class=\"postInfo-container-item\" prop=\"phone1\">\n                      <el-input placeholder=\"请输入联系电话一\" v-model=\"postForm.phone1\" :disabled=\"showFlag === pageType.detail\" clearable></el-input>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :span=\"6\" style=\"min-height: 1px;\">\n                  </el-col>\n                </el-row>\n                <el-row>\n                  <el-col :span=\"8\">\n                    <el-form-item label-width=\"120px\" label=\"责任人二:\" class=\"postInfo-container-item\" prop=\"head2\">\n                      <el-input placeholder=\"请输入责任人二\" v-model=\"postForm.head2\" :disabled=\"showFlag === pageType.detail\" clearable></el-input>\n                    </el-form-item>\n                  </el-col>\n\n                  <el-col :span=\"10\">\n                    <el-form-item label-width=\"120px\" label=\"联系电话二:\" class=\"postInfo-container-item\" prop=\"phone2\">\n                      <el-input placeholder=\"请输入联系电话二\" v-model=\"postForm.phone2\" :disabled=\"showFlag === pageType.detail\" clearable></el-input>\n                    </el-form-item>\n                  </el-col>\n                  <el-col :span=\"6\" style=\"min-height: 1px;\">\n                  </el-col>\n                </el-row>\n              </div>\n            </el-col>\n          </el-row>\n        </div>\n      </el-form>\n    </div>\n    <el-dialog\n      title=\"数据导入\"\n      :visible.sync=\"dialogVisible\"\n      width=\"30%\">\n      <input type=\"file\" @change=\"updateFile\" accept=\"application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\">\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"insertZones\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { createLine, queryLine, updateLine, delLine, insertZones } from '@/api/line/line.js'\nimport { parseTime } from '@/utils'\nimport Pagination from '@/components/Pagination' // secondary package based on el-pagination\nimport Tinymce from '@/components/Tinymce'\nimport Upload from '@/components/Upload/SingleImage3'\nimport MDinput from '@/components/MDinput'\nimport axios from 'axios'\n\nexport default {\n  name: 'ComplexTable',\n  components: { Tinymce, MDinput, Pagination },\n  filters: {\n    statusFilter(status) {\n      const statusMap = {\n        published: 'success',\n        draft: 'info',\n        deleted: 'danger'\n      }\n      return statusMap[status]\n    },\n    typeFilter(type) {\n      return calendarTypeKeyValue[type]\n    }\n  },\n  data() {\n    return {\n      tableKey: 0,\n      list: null,\n      total: 0,\n      listLoading: true,\n      postRules: {\n        zone: [{ required: true, message: '请输入线路ID', trigger: 'blur' }],\n        name: [{ required: true, message: '请输入线路名称', trigger: 'blur' }],\n        head1: [{ required: true, message: '请输入责任人一', trigger: 'blur' }],\n        phone1: [{ required: true, message: '请输入联系电话一', trigger: 'blur' }],\n        head2: [{ required: true, message: '请输入责任人二', trigger: 'blur' }],\n        phone2: [{ required: true, message: '请输入联系电话二', trigger: 'blur' }],\n      },\n      showFlag: 0,\n      pageType: {\n        list: 0,\n        add: 1,\n        edit: 2,\n        detail: 3\n      },\n      queryForm: {\n        page: 1,\n        limit: 15,\n        keyword: ''\n      },\n      postForm: {\n        zone: '',\n        name: '',\n        head1: '',\n        phone1: '',\n        head2: '',\n        phone2: ''\n      },\n      areaList: [],\n      currentRow: {},\n      dialogVisible: false,\n      fileparam: {}\n    }\n  },\n  created() {\n    this.getList()\n  },\n\n  computed: {\n    mdcontent() {\n      let str = this.postForm.area_id == '' ? '请输入线路ID(至多4位):' : '线路ID:'\n      return str\n    },\n    headName() {\n      let str = this.showFlag === this.pageType.add ? '新增线路':\n        this.showFlag === this.pageType.edit ? '编辑线路' : '线路详情'\n\n      return str\n    }\n  },\n  methods: {\n    // 获取设备列表数据\n    getList() {\n      this.listLoading = true\n      queryLine(this.queryForm).then(res => {\n        if (res.retcode == 200) {\n          this.list = res.result\n          if (this.list && this.list.length > 0) {\n            this.total = this.list.length\n          }\n        }\n        // Just to simulate the time of the request\n        setTimeout(() => {\n          this.listLoading = false\n        }, 1 * 1000)\n      })\n    },\n\n    handleFilter() {\n      this.getList()\n    },\n\n    handleShowImport() {\n      this.dialogVisible = true\n    },\n\n    updateFile(e) {\n        let file = e.target.files[0];\n        this.fileparam = new FormData(); //创建form对象\n        this.fileparam.append('excel_file',file);//通过append向form对象添加数据\n        console.log(this.fileparam.get('excel_file'));\n\n    },\n\n    insertZones() {\n      insertZones(this.fileparam).then(res => {\n        if (res.retcode == 200) {\n          this.$message({ type: 'success', message: '数据导入成功！' })\n          setTimeout(() => {\n            this.dialogVisible = false\n          }, 500);\n        } else {\n          this.$message({ type: 'warning', message: `数据导入失败！${res.status}` })\n        }\n      })\n    },\n\n    // 跳转至新增设备页面\n    handleCreate() {\n      this.showFlag = this.pageType.add\n      this.currentRow = {}\n      this.handleReset()\n    },\n\n    // 返回列表页面\n    handleReturn() {\n      this.showFlag = this.pageType.list\n    },\n\n    // 重置表单\n    handleReset() {\n      Object.keys(this.postForm).forEach((item) => {\n        this.postForm[item] = this.currentRow[item]\n      })\n      this.$nextTick(() => {\n        this.$refs.postForm.resetFields()\n      })\n    },\n\n    // 创建/修改设备表单提交\n    handleSubmit() {\n      let validTemp\n      this.$refs['postForm'].validate((valid) => {\n        if (valid) {\n          validTemp = true\n        } else {\n          console.log('error submit!!');\n          validTemp = false\n          return false;\n        }\n      });\n      // 若验证通过则继续请求\n      if (validTemp) {\n        if (this.showFlag === this.pageType.add) {\n          createLine(this.postForm).then(res => {\n            if (res.retcode === 200 || res.status === 'success') {\n              this.$message({ type: 'success', message: '提交成功！'})\n              setTimeout(() => {\n                this.showFlag = this.pageType.list\n                this.getList()\n              }, 500)\n            }\n          })\n        } else if (this.showFlag === this.pageType.edit) {\n          updateLine(this.postForm).then(res => {\n            if (res.retcode === 200 || res.status === 'success') {\n              this.$message({ type: 'success', message: '提交成功！'})\n              setTimeout(() => {\n                this.showFlag = this.pageType.list\n                this.getList()\n              }, 500)\n            }\n          })\n        }\n      }\n    },\n\n    // 跳转至编辑页面\n    handleUpdate(row) {\n      this.showFlag = this.pageType.edit\n      this.currentRow = row\n      Object.keys(this.postForm).forEach(item => {\n        this.postForm[item] = row[item]\n      })\n    },\n\n    // 跳转至详情页面\n    handleDetail(row) {\n      this.showFlag = this.pageType.detail\n      Object.keys(this.postForm).forEach(item => {\n        this.postForm[item] = row[item]\n      })\n    },\n\n    handleDelete(row) {\n      let params = {}\n      params.zone = row.zone\n      this.$confirm('线路删除后将不可恢复，确认删除该线路？', '提示', {\n        confirmButtonText: '删除',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        delLine(params).then(res => {\n          if (res.retcode === 200) {\n            this.$message({ type: 'success', message: '删除成功！' })\n            setTimeout(() => {\n              this.getList()\n            }, 200);\n          } else {\n            this.$message({ type: 'warning', message: `删除失败！${res.status}` })\n          }\n        })\n      }).catch(err => {\n        console.log(err)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .app-container {\n    min-width: 800px;\n    overflow: auto;\n  }\n\n  .form-container {\n    margin-left: 40px;\n    margin-right: 10px;\n    margin-top: 30px;\n  }\n\n  .formBar {\n    border-bottom: 1px solid #dfe6ec;\n    overflow: hidden;\n\n    .filter-item {\n      margin-bottom: 0;\n    }\n\n    .form-head {\n      font-size: 20px;\n      margin-top: 10px;\n      margin-left: 6px;\n      color: #666;\n      display: inline-block;\n    }\n  }\n\n  .postInfo-container-item {\n    min-width: 250px;\n  }\n\n  .form-wrapper {\n    border: 1px solid #dfe6ec;\n    padding-top: 30px;\n    border-radius: 5px;\n  }\n\n  .md-input {\n    margin-bottom: 20px;\n    margin-top: -40px;\n    margin-left: 15px;\n  }\n\n  .fit-padding {\n    padding-left: 10px;\n  }\n</style>\n"]}]}